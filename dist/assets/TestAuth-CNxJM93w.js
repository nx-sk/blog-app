import{J as h,K as g,M as u,j as s,N as x,O as m,P as f,r as j,s as a,B as p,V as l,T as C,e as n}from"./index-BSHOxWij.js";import{H as k}from"./heading-Bmwyqq1n.js";const d=h(function(r,t){const i=g("Code",r),{className:e,...o}=u(r);return s.jsx(x.code,{ref:t,className:m("chakra-code",r.className),...o,__css:{display:"inline-block",...i}})});d.displayName="Code";const w=()=>{const c=f();j.useEffect(()=>{const{data:e}=a.auth.onAuthStateChange((o,y)=>{});return a.auth.getSession().then(({data:{session:o}})=>{}),()=>{e.subscription.unsubscribe()}},[]);const r=async()=>{try{const{data:e,error:o}=await a.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/test-auth`}});o&&(console.error("Login error:",o),alert(`Error: ${o.message}`))}catch(e){console.error("Unexpected error:",e)}},t=async()=>{const{error:e}=await a.auth.signOut();e&&console.error("Logout error:",e)},i=async()=>{const{data:{session:e},error:o}=await a.auth.getSession();o?console.error("Session check error:",o):alert(e?`Logged in as: ${e.user.email}`:"Not logged in")};return s.jsx(p,{p:8,children:s.jsxs(l,{spacing:6,align:"start",children:[s.jsx(k,{children:"Google認証テスト"}),s.jsx(C,{children:"このページでGoogle認証の動作を確認できます。"}),s.jsx(d,{p:2,children:"Console (F12) でログを確認してください"}),s.jsxs(l,{spacing:4,children:[s.jsx(n,{colorScheme:"red",onClick:r,children:"Googleでログイン"}),s.jsx(n,{colorScheme:"gray",onClick:i,children:"セッション確認"}),s.jsx(n,{variant:"outline",onClick:t,children:"ログアウト"}),s.jsx(n,{onClick:()=>c("/login"),children:"通常のログインページへ"})]})]})})};export{w as default};
//# sourceMappingURL=TestAuth-CNxJM93w.js.map
