{"version":3,"file":"modal-overlay-DNcbSzXw.js","sources":["../../node_modules/@chakra-ui/utils/dist/esm/focusable.mjs","../../node_modules/@chakra-ui/react/dist/esm/transition/transition-utils.mjs","../../node_modules/focus-lock/dist/es2015/constants.js","../../node_modules/use-callback-ref/dist/es2015/assignRef.js","../../node_modules/use-callback-ref/dist/es2015/useRef.js","../../node_modules/use-callback-ref/dist/es2015/useMergeRef.js","../../node_modules/react-focus-lock/dist/es2015/FocusGuard.js","../../node_modules/use-sidecar/dist/es2015/medium.js","../../node_modules/use-sidecar/dist/es2015/exports.js","../../node_modules/react-focus-lock/dist/es2015/medium.js","../../node_modules/react-focus-lock/dist/es2015/scope.js","../../node_modules/react-focus-lock/dist/es2015/Lock.js","../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../../node_modules/react-clientside-effect/lib/index.es.js","../../node_modules/focus-lock/dist/es2015/utils/array.js","../../node_modules/focus-lock/dist/es2015/utils/is.js","../../node_modules/focus-lock/dist/es2015/utils/tabOrder.js","../../node_modules/focus-lock/dist/es2015/utils/tabbables.js","../../node_modules/focus-lock/dist/es2015/utils/tabUtils.js","../../node_modules/focus-lock/dist/es2015/utils/DOMutils.js","../../node_modules/focus-lock/dist/es2015/utils/all-affected.js","../../node_modules/focus-lock/dist/es2015/utils/safe.js","../../node_modules/focus-lock/dist/es2015/utils/getActiveElement.js","../../node_modules/focus-lock/dist/es2015/focusInside.js","../../node_modules/focus-lock/dist/es2015/focusIsHidden.js","../../node_modules/focus-lock/dist/es2015/utils/correctFocus.js","../../node_modules/focus-lock/dist/es2015/utils/firstFocus.js","../../node_modules/focus-lock/dist/es2015/solver.js","../../node_modules/focus-lock/dist/es2015/utils/auto-focus.js","../../node_modules/focus-lock/dist/es2015/utils/parenting.js","../../node_modules/focus-lock/dist/es2015/focusSolver.js","../../node_modules/focus-lock/dist/es2015/focusables.js","../../node_modules/focus-lock/dist/es2015/commands.js","../../node_modules/focus-lock/dist/es2015/moveFocusInside.js","../../node_modules/focus-lock/dist/es2015/return-focus.js","../../node_modules/focus-lock/dist/es2015/sibling.js","../../node_modules/react-focus-lock/dist/es2015/util.js","../../node_modules/react-focus-lock/dist/es2015/Trap.js","../../node_modules/react-focus-lock/dist/es2015/Combination.js","../../node_modules/@chakra-ui/react/dist/esm/focus-lock/focus-lock.mjs","../../node_modules/aria-hidden/dist/es2015/index.js","../../node_modules/@chakra-ui/react/dist/esm/modal/modal-manager.mjs","../../node_modules/@chakra-ui/react/dist/esm/modal/use-modal.mjs","../../node_modules/@chakra-ui/react/dist/esm/modal/modal.mjs","../../node_modules/react-remove-scroll-bar/dist/es2015/constants.js","../../node_modules/react-remove-scroll/dist/es2015/medium.js","../../node_modules/react-remove-scroll/dist/es2015/UI.js","../../node_modules/get-nonce/dist/es2015/index.js","../../node_modules/react-style-singleton/dist/es2015/singleton.js","../../node_modules/react-style-singleton/dist/es2015/hook.js","../../node_modules/react-style-singleton/dist/es2015/component.js","../../node_modules/react-remove-scroll-bar/dist/es2015/utils.js","../../node_modules/react-remove-scroll-bar/dist/es2015/component.js","../../node_modules/react-remove-scroll/dist/es2015/aggresiveCapture.js","../../node_modules/react-remove-scroll/dist/es2015/handleScroll.js","../../node_modules/react-remove-scroll/dist/es2015/SideEffect.js","../../node_modules/react-remove-scroll/dist/es2015/sidecar.js","../../node_modules/react-remove-scroll/dist/es2015/Combination.js","../../node_modules/@chakra-ui/react/dist/esm/modal/modal-focus.mjs","../../node_modules/@chakra-ui/react/dist/esm/transition/slide-fade.mjs","../../node_modules/@chakra-ui/react/dist/esm/transition/scale-fade.mjs","../../node_modules/@chakra-ui/react/dist/esm/modal/modal-transition.mjs","../../node_modules/@chakra-ui/react/dist/esm/modal/modal-content.mjs","../../node_modules/@chakra-ui/react/dist/esm/modal/modal-body.mjs","../../node_modules/@chakra-ui/react/dist/esm/modal/modal-footer.mjs","../../node_modules/@chakra-ui/react/dist/esm/modal/modal-header.mjs","../../node_modules/@chakra-ui/react/dist/esm/transition/fade.mjs","../../node_modules/@chakra-ui/react/dist/esm/modal/modal-overlay.mjs"],"sourcesContent":["import { isFocusable, isTabbable } from './tabbable.mjs';\n\nconst focusableElList = [\n  \"input:not(:disabled):not([disabled])\",\n  \"select:not(:disabled):not([disabled])\",\n  \"textarea:not(:disabled):not([disabled])\",\n  \"embed\",\n  \"iframe\",\n  \"object\",\n  \"a[href]\",\n  \"area[href]\",\n  \"button:not(:disabled):not([disabled])\",\n  \"[tabindex]\",\n  \"audio[controls]\",\n  \"video[controls]\",\n  \"*[tabindex]:not([aria-disabled])\",\n  \"*[contenteditable]\"\n];\nconst focusableElSelector = focusableElList.join();\nconst isVisible = (el) => el.offsetWidth > 0 && el.offsetHeight > 0;\nfunction getAllFocusable(container) {\n  const focusableEls = Array.from(\n    container.querySelectorAll(focusableElSelector)\n  );\n  focusableEls.unshift(container);\n  return focusableEls.filter((el) => isFocusable(el) && isVisible(el));\n}\nfunction getFirstFocusable(container) {\n  const allFocusable = getAllFocusable(container);\n  return allFocusable.length ? allFocusable[0] : null;\n}\nfunction getAllTabbable(container, fallbackToFocusable) {\n  const allFocusable = Array.from(\n    container.querySelectorAll(focusableElSelector)\n  );\n  const allTabbable = allFocusable.filter(isTabbable);\n  if (isTabbable(container)) {\n    allTabbable.unshift(container);\n  }\n  if (!allTabbable.length && fallbackToFocusable) {\n    return allFocusable;\n  }\n  return allTabbable;\n}\nfunction getFirstTabbableIn(container, fallbackToFocusable) {\n  const [first] = getAllTabbable(container, fallbackToFocusable);\n  return first || null;\n}\nfunction getLastTabbableIn(container, fallbackToFocusable) {\n  const allTabbable = getAllTabbable(container, fallbackToFocusable);\n  return allTabbable[allTabbable.length - 1] || null;\n}\nfunction getNextTabbable(container, fallbackToFocusable) {\n  const allFocusable = getAllFocusable(container);\n  const index = allFocusable.indexOf(document.activeElement);\n  const slice = allFocusable.slice(index + 1);\n  return slice.find(isTabbable) || allFocusable.find(isTabbable) || (fallbackToFocusable ? slice[0] : null);\n}\nfunction getPreviousTabbable(container, fallbackToFocusable) {\n  const allFocusable = getAllFocusable(container).reverse();\n  const index = allFocusable.indexOf(document.activeElement);\n  const slice = allFocusable.slice(index + 1);\n  return slice.find(isTabbable) || allFocusable.find(isTabbable) || (fallbackToFocusable ? slice[0] : null);\n}\n\nexport { getAllFocusable, getAllTabbable, getFirstFocusable, getFirstTabbableIn, getLastTabbableIn, getNextTabbable, getPreviousTabbable };\n","'use client';\nconst TRANSITION_EASINGS = {\n  ease: [0.25, 0.1, 0.25, 1],\n  easeIn: [0.4, 0, 1, 1],\n  easeOut: [0, 0, 0.2, 1],\n  easeInOut: [0.4, 0, 0.2, 1]\n};\nconst TRANSITION_VARIANTS = {\n  scale: {\n    enter: { scale: 1 },\n    exit: { scale: 0.95 }\n  },\n  fade: {\n    enter: { opacity: 1 },\n    exit: { opacity: 0 }\n  },\n  pushLeft: {\n    enter: { x: \"100%\" },\n    exit: { x: \"-30%\" }\n  },\n  pushRight: {\n    enter: { x: \"-100%\" },\n    exit: { x: \"30%\" }\n  },\n  pushUp: {\n    enter: { y: \"100%\" },\n    exit: { y: \"-30%\" }\n  },\n  pushDown: {\n    enter: { y: \"-100%\" },\n    exit: { y: \"30%\" }\n  },\n  slideLeft: {\n    position: { left: 0, top: 0, bottom: 0, width: \"100%\" },\n    enter: { x: 0, y: 0 },\n    exit: { x: \"-100%\", y: 0 }\n  },\n  slideRight: {\n    position: { right: 0, top: 0, bottom: 0, width: \"100%\" },\n    enter: { x: 0, y: 0 },\n    exit: { x: \"100%\", y: 0 }\n  },\n  slideUp: {\n    position: { top: 0, left: 0, right: 0, maxWidth: \"100vw\" },\n    enter: { x: 0, y: 0 },\n    exit: { x: 0, y: \"-100%\" }\n  },\n  slideDown: {\n    position: { bottom: 0, left: 0, right: 0, maxWidth: \"100vw\" },\n    enter: { x: 0, y: 0 },\n    exit: { x: 0, y: \"100%\" }\n  }\n};\nfunction getSlideTransition(options) {\n  const side = options?.direction ?? \"right\";\n  switch (side) {\n    case \"right\":\n      return TRANSITION_VARIANTS.slideRight;\n    case \"left\":\n      return TRANSITION_VARIANTS.slideLeft;\n    case \"bottom\":\n      return TRANSITION_VARIANTS.slideDown;\n    case \"top\":\n      return TRANSITION_VARIANTS.slideUp;\n    default:\n      return TRANSITION_VARIANTS.slideRight;\n  }\n}\nconst TRANSITION_DEFAULTS = {\n  enter: {\n    duration: 0.2,\n    ease: TRANSITION_EASINGS.easeOut\n  },\n  exit: {\n    duration: 0.1,\n    ease: TRANSITION_EASINGS.easeIn\n  }\n};\nconst withDelay = {\n  enter: (transition, delay) => ({\n    ...transition,\n    delay: typeof delay === \"number\" ? delay : delay?.[\"enter\"]\n  }),\n  exit: (transition, delay) => ({\n    ...transition,\n    delay: typeof delay === \"number\" ? delay : delay?.[\"exit\"]\n  })\n};\n\nexport { TRANSITION_DEFAULTS, TRANSITION_EASINGS, TRANSITION_VARIANTS, getSlideTransition, withDelay };\n","/**\n * defines a focus group\n */\nexport var FOCUS_GROUP = 'data-focus-lock';\n/**\n * disables element discovery inside a group marked by key\n */\nexport var FOCUS_DISABLED = 'data-focus-lock-disabled';\n/**\n * allows uncontrolled focus within the marked area, effectively disabling focus lock for it's content\n */\nexport var FOCUS_ALLOW = 'data-no-focus-lock';\n/**\n * instructs autofocus engine to pick default autofocus inside a given node\n * can be set on the element or container\n */\nexport var FOCUS_AUTO = 'data-autofocus-inside';\n/**\n * instructs autofocus to ignore elements within a given node\n * can be set on the element or container\n */\nexport var FOCUS_NO_AUTOFOCUS = 'data-no-autofocus';\n","/**\n * Assigns a value for a given ref, no matter of the ref format\n * @param {RefObject} ref - a callback function or ref object\n * @param value - a new value\n *\n * @see https://github.com/theKashey/use-callback-ref#assignref\n * @example\n * const refObject = useRef();\n * const refFn = (ref) => {....}\n *\n * assignRef(refObject, \"refValue\");\n * assignRef(refFn, \"refValue\");\n */\nexport function assignRef(ref, value) {\n    if (typeof ref === 'function') {\n        ref(value);\n    }\n    else if (ref) {\n        ref.current = value;\n    }\n    return ref;\n}\n","import { useState } from 'react';\n/**\n * creates a MutableRef with ref change callback\n * @param initialValue - initial ref value\n * @param {Function} callback - a callback to run when value changes\n *\n * @example\n * const ref = useCallbackRef(0, (newValue, oldValue) => console.log(oldValue, '->', newValue);\n * ref.current = 1;\n * // prints 0 -> 1\n *\n * @see https://reactjs.org/docs/hooks-reference.html#useref\n * @see https://github.com/theKashey/use-callback-ref#usecallbackref---to-replace-reactuseref\n * @returns {MutableRefObject}\n */\nexport function useCallbackRef(initialValue, callback) {\n    var ref = useState(function () { return ({\n        // value\n        value: initialValue,\n        // last callback\n        callback: callback,\n        // \"memoized\" public interface\n        facade: {\n            get current() {\n                return ref.value;\n            },\n            set current(value) {\n                var last = ref.value;\n                if (last !== value) {\n                    ref.value = value;\n                    ref.callback(value, last);\n                }\n            },\n        },\n    }); })[0];\n    // update callback\n    ref.callback = callback;\n    return ref.facade;\n}\n","import * as React from 'react';\nimport { assignRef } from './assignRef';\nimport { useCallbackRef } from './useRef';\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\nvar currentValues = new WeakMap();\n/**\n * Merges two or more refs together providing a single interface to set their value\n * @param {RefObject|Ref} refs\n * @returns {MutableRefObject} - a new ref, which translates all changes to {refs}\n *\n * @see {@link mergeRefs} a version without buit-in memoization\n * @see https://github.com/theKashey/use-callback-ref#usemergerefs\n * @example\n * const Component = React.forwardRef((props, ref) => {\n *   const ownRef = useRef();\n *   const domRef = useMergeRefs([ref, ownRef]); // ðŸ‘ˆ merge together\n *   return <div ref={domRef}>...</div>\n * }\n */\nexport function useMergeRefs(refs, defaultValue) {\n    var callbackRef = useCallbackRef(defaultValue || null, function (newValue) {\n        return refs.forEach(function (ref) { return assignRef(ref, newValue); });\n    });\n    // handle refs changes - added or removed\n    useIsomorphicLayoutEffect(function () {\n        var oldValue = currentValues.get(callbackRef);\n        if (oldValue) {\n            var prevRefs_1 = new Set(oldValue);\n            var nextRefs_1 = new Set(refs);\n            var current_1 = callbackRef.current;\n            prevRefs_1.forEach(function (ref) {\n                if (!nextRefs_1.has(ref)) {\n                    assignRef(ref, null);\n                }\n            });\n            nextRefs_1.forEach(function (ref) {\n                if (!prevRefs_1.has(ref)) {\n                    assignRef(ref, current_1);\n                }\n            });\n        }\n        currentValues.set(callbackRef, refs);\n    }, [refs]);\n    return callbackRef;\n}\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nexport var hiddenGuard = {\n  width: '1px',\n  height: '0px',\n  padding: 0,\n  overflow: 'hidden',\n  position: 'fixed',\n  top: '1px',\n  left: '1px'\n};\nvar InFocusGuard = function InFocusGuard(_ref) {\n  var _ref$children = _ref.children,\n    children = _ref$children === void 0 ? null : _ref$children;\n  return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    key: \"guard-first\",\n    \"data-focus-guard\": true,\n    \"data-focus-auto-guard\": true,\n    style: hiddenGuard\n  }), children, children && /*#__PURE__*/React.createElement(\"div\", {\n    key: \"guard-last\",\n    \"data-focus-guard\": true,\n    \"data-focus-auto-guard\": true,\n    style: hiddenGuard\n  }));\n};\nInFocusGuard.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.node\n} : {};\nexport default InFocusGuard;","import { __assign } from \"tslib\";\nfunction ItoI(a) {\n    return a;\n}\nfunction innerCreateMedium(defaults, middleware) {\n    if (middleware === void 0) { middleware = ItoI; }\n    var buffer = [];\n    var assigned = false;\n    var medium = {\n        read: function () {\n            if (assigned) {\n                throw new Error('Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.');\n            }\n            if (buffer.length) {\n                return buffer[buffer.length - 1];\n            }\n            return defaults;\n        },\n        useMedium: function (data) {\n            var item = middleware(data, assigned);\n            buffer.push(item);\n            return function () {\n                buffer = buffer.filter(function (x) { return x !== item; });\n            };\n        },\n        assignSyncMedium: function (cb) {\n            assigned = true;\n            while (buffer.length) {\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n            }\n            buffer = {\n                push: function (x) { return cb(x); },\n                filter: function () { return buffer; },\n            };\n        },\n        assignMedium: function (cb) {\n            assigned = true;\n            var pendingQueue = [];\n            if (buffer.length) {\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n                pendingQueue = buffer;\n            }\n            var executeQueue = function () {\n                var cbs = pendingQueue;\n                pendingQueue = [];\n                cbs.forEach(cb);\n            };\n            var cycle = function () { return Promise.resolve().then(executeQueue); };\n            cycle();\n            buffer = {\n                push: function (x) {\n                    pendingQueue.push(x);\n                    cycle();\n                },\n                filter: function (filter) {\n                    pendingQueue = pendingQueue.filter(filter);\n                    return buffer;\n                },\n            };\n        },\n    };\n    return medium;\n}\nexport function createMedium(defaults, middleware) {\n    if (middleware === void 0) { middleware = ItoI; }\n    return innerCreateMedium(defaults, middleware);\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function createSidecarMedium(options) {\n    if (options === void 0) { options = {}; }\n    var medium = innerCreateMedium(null);\n    medium.options = __assign({ async: true, ssr: false }, options);\n    return medium;\n}\n","import { __assign, __rest } from \"tslib\";\nimport * as React from 'react';\nvar SideCar = function (_a) {\n    var sideCar = _a.sideCar, rest = __rest(_a, [\"sideCar\"]);\n    if (!sideCar) {\n        throw new Error('Sidecar: please provide `sideCar` property to import the right car');\n    }\n    var Target = sideCar.read();\n    if (!Target) {\n        throw new Error('Sidecar medium not found');\n    }\n    return React.createElement(Target, __assign({}, rest));\n};\nSideCar.isSideCarExport = true;\nexport function exportSidecar(medium, exported) {\n    medium.useMedium(exported);\n    return SideCar;\n}\n","import { createMedium, createSidecarMedium } from 'use-sidecar';\nexport var mediumFocus = createMedium({}, function (_ref) {\n  var target = _ref.target,\n    currentTarget = _ref.currentTarget;\n  return {\n    target: target,\n    currentTarget: currentTarget\n  };\n});\nexport var mediumBlur = createMedium();\nexport var mediumEffect = createMedium();\nexport var mediumSidecar = createSidecarMedium({\n  async: true,\n  ssr: typeof document !== 'undefined'\n});","import { createContext } from 'react';\nexport var focusScope = /*#__PURE__*/createContext(undefined);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React, { forwardRef, useRef, useState, useCallback, useEffect, useMemo, Fragment } from 'react';\nimport { node, bool, string, any, arrayOf, oneOfType, object, func } from 'prop-types';\nimport { FOCUS_DISABLED, FOCUS_GROUP } from 'focus-lock/constants';\nimport { useMergeRefs } from 'use-callback-ref';\nimport { hiddenGuard } from './FocusGuard';\nimport { mediumFocus, mediumBlur, mediumSidecar } from './medium';\nimport { focusScope } from './scope';\nvar emptyArray = [];\nvar FocusLock = /*#__PURE__*/forwardRef(function FocusLockUI(props, parentRef) {\n  var _extends2;\n  var _useState = useState(),\n    realObserved = _useState[0],\n    setObserved = _useState[1];\n  var observed = useRef();\n  var isActive = useRef(false);\n  var originalFocusedElement = useRef(null);\n  var _useState2 = useState({}),\n    update = _useState2[1];\n  var children = props.children,\n    _props$disabled = props.disabled,\n    disabled = _props$disabled === void 0 ? false : _props$disabled,\n    _props$noFocusGuards = props.noFocusGuards,\n    noFocusGuards = _props$noFocusGuards === void 0 ? false : _props$noFocusGuards,\n    _props$persistentFocu = props.persistentFocus,\n    persistentFocus = _props$persistentFocu === void 0 ? false : _props$persistentFocu,\n    _props$crossFrame = props.crossFrame,\n    crossFrame = _props$crossFrame === void 0 ? true : _props$crossFrame,\n    _props$autoFocus = props.autoFocus,\n    autoFocus = _props$autoFocus === void 0 ? true : _props$autoFocus,\n    allowTextSelection = props.allowTextSelection,\n    group = props.group,\n    className = props.className,\n    whiteList = props.whiteList,\n    hasPositiveIndices = props.hasPositiveIndices,\n    _props$shards = props.shards,\n    shards = _props$shards === void 0 ? emptyArray : _props$shards,\n    _props$as = props.as,\n    Container = _props$as === void 0 ? 'div' : _props$as,\n    _props$lockProps = props.lockProps,\n    containerProps = _props$lockProps === void 0 ? {} : _props$lockProps,\n    SideCar = props.sideCar,\n    _props$returnFocus = props.returnFocus,\n    shouldReturnFocus = _props$returnFocus === void 0 ? false : _props$returnFocus,\n    focusOptions = props.focusOptions,\n    onActivationCallback = props.onActivation,\n    onDeactivationCallback = props.onDeactivation;\n  var _useState3 = useState({}),\n    id = _useState3[0];\n  var onActivation = useCallback(function (_ref) {\n    var captureFocusRestore = _ref.captureFocusRestore;\n    if (!originalFocusedElement.current) {\n      var _document;\n      var activeElement = (_document = document) == null ? void 0 : _document.activeElement;\n      originalFocusedElement.current = activeElement;\n      if (activeElement !== document.body) {\n        originalFocusedElement.current = captureFocusRestore(activeElement);\n      }\n    }\n    if (observed.current && onActivationCallback) {\n      onActivationCallback(observed.current);\n    }\n    isActive.current = true;\n    update();\n  }, [onActivationCallback]);\n  var onDeactivation = useCallback(function () {\n    isActive.current = false;\n    if (onDeactivationCallback) {\n      onDeactivationCallback(observed.current);\n    }\n    update();\n  }, [onDeactivationCallback]);\n  var returnFocus = useCallback(function (allowDefer) {\n    var focusRestore = originalFocusedElement.current;\n    if (focusRestore) {\n      var returnFocusTo = (typeof focusRestore === 'function' ? focusRestore() : focusRestore) || document.body;\n      var howToReturnFocus = typeof shouldReturnFocus === 'function' ? shouldReturnFocus(returnFocusTo) : shouldReturnFocus;\n      if (howToReturnFocus) {\n        var returnFocusOptions = typeof howToReturnFocus === 'object' ? howToReturnFocus : undefined;\n        originalFocusedElement.current = null;\n        if (allowDefer) {\n          Promise.resolve().then(function () {\n            return returnFocusTo.focus(returnFocusOptions);\n          });\n        } else {\n          returnFocusTo.focus(returnFocusOptions);\n        }\n      }\n    }\n  }, [shouldReturnFocus]);\n  var onFocus = useCallback(function (event) {\n    if (isActive.current) {\n      mediumFocus.useMedium(event);\n    }\n  }, []);\n  var onBlur = mediumBlur.useMedium;\n  var setObserveNode = useCallback(function (newObserved) {\n    if (observed.current !== newObserved) {\n      observed.current = newObserved;\n      setObserved(newObserved);\n    }\n  }, []);\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof allowTextSelection !== 'undefined') {\n      console.warn('React-Focus-Lock: allowTextSelection is deprecated and enabled by default');\n    }\n    useEffect(function () {\n      if (!observed.current && typeof Container !== 'string') {\n        console.error('FocusLock: could not obtain ref to internal node');\n      }\n    }, []);\n  }\n  var lockProps = _extends((_extends2 = {}, _extends2[FOCUS_DISABLED] = disabled && 'disabled', _extends2[FOCUS_GROUP] = group, _extends2), containerProps);\n  var hasLeadingGuards = noFocusGuards !== true;\n  var hasTailingGuards = hasLeadingGuards && noFocusGuards !== 'tail';\n  var mergedRef = useMergeRefs([parentRef, setObserveNode]);\n  var focusScopeValue = useMemo(function () {\n    return {\n      observed: observed,\n      shards: shards,\n      enabled: !disabled,\n      active: isActive.current\n    };\n  }, [disabled, isActive.current, shards, realObserved]);\n  return /*#__PURE__*/React.createElement(Fragment, null, hasLeadingGuards && [\n  /*#__PURE__*/\n  React.createElement(\"div\", {\n    key: \"guard-first\",\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 0,\n    style: hiddenGuard\n  }), hasPositiveIndices ? /*#__PURE__*/React.createElement(\"div\", {\n    key: \"guard-nearest\",\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 1,\n    style: hiddenGuard\n  }) : null], !disabled && /*#__PURE__*/React.createElement(SideCar, {\n    id: id,\n    sideCar: mediumSidecar,\n    observed: realObserved,\n    disabled: disabled,\n    persistentFocus: persistentFocus,\n    crossFrame: crossFrame,\n    autoFocus: autoFocus,\n    whiteList: whiteList,\n    shards: shards,\n    onActivation: onActivation,\n    onDeactivation: onDeactivation,\n    returnFocus: returnFocus,\n    focusOptions: focusOptions,\n    noFocusGuards: noFocusGuards\n  }), /*#__PURE__*/React.createElement(Container, _extends({\n    ref: mergedRef\n  }, lockProps, {\n    className: className,\n    onBlur: onBlur,\n    onFocus: onFocus\n  }), /*#__PURE__*/React.createElement(focusScope.Provider, {\n    value: focusScopeValue\n  }, children)), hasTailingGuards && /*#__PURE__*/React.createElement(\"div\", {\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 0,\n    style: hiddenGuard\n  }));\n});\nFocusLock.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: node,\n  disabled: bool,\n  returnFocus: oneOfType([bool, object, func]),\n  focusOptions: object,\n  noFocusGuards: bool,\n  hasPositiveIndices: bool,\n  allowTextSelection: bool,\n  autoFocus: bool,\n  persistentFocus: bool,\n  crossFrame: bool,\n  group: string,\n  className: string,\n  whiteList: func,\n  shards: arrayOf(any),\n  as: oneOfType([string, func, object]),\n  lockProps: object,\n  onActivation: func,\n  onDeactivation: func,\n  sideCar: any.isRequired\n} : {};\nexport default FocusLock;","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","import _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport React, { PureComponent } from 'react';\n\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (typeof reducePropsToState !== 'function') {\n      throw new Error('Expected reducePropsToState to be a function.');\n    }\n\n    if (typeof handleStateChangeOnClient !== 'function') {\n      throw new Error('Expected handleStateChangeOnClient to be a function.');\n    }\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (typeof WrappedComponent !== 'function') {\n        throw new Error('Expected WrappedComponent to be a React component.');\n      }\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n      handleStateChangeOnClient(state);\n    }\n\n    var SideEffect = /*#__PURE__*/function (_PureComponent) {\n      _inheritsLoose(SideEffect, _PureComponent);\n\n      function SideEffect() {\n        return _PureComponent.apply(this, arguments) || this;\n      }\n\n      // Try to use displayName of wrapped component\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.componentDidMount = function componentDidMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return /*#__PURE__*/React.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(PureComponent);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    return SideEffect;\n  };\n}\n\nexport default withSideEffect;\n","/*\nIE11 support\n */\nexport var toArray = function (a) {\n    var ret = Array(a.length);\n    for (var i = 0; i < a.length; ++i) {\n        ret[i] = a[i];\n    }\n    return ret;\n};\nexport var asArray = function (a) { return (Array.isArray(a) ? a : [a]); };\nexport var getFirst = function (a) { return (Array.isArray(a) ? a[0] : a); };\n","import { FOCUS_NO_AUTOFOCUS } from '../constants';\nvar isElementHidden = function (node) {\n    // we can measure only \"elements\"\n    // consider others as \"visible\"\n    if (node.nodeType !== Node.ELEMENT_NODE) {\n        return false;\n    }\n    var computedStyle = window.getComputedStyle(node, null);\n    if (!computedStyle || !computedStyle.getPropertyValue) {\n        return false;\n    }\n    return (computedStyle.getPropertyValue('display') === 'none' || computedStyle.getPropertyValue('visibility') === 'hidden');\n};\nvar getParentNode = function (node) {\n    // DOCUMENT_FRAGMENT_NODE can also point on ShadowRoot. In this case .host will point on the next node\n    return node.parentNode && node.parentNode.nodeType === Node.DOCUMENT_FRAGMENT_NODE\n        ? // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            node.parentNode.host\n        : node.parentNode;\n};\nvar isTopNode = function (node) {\n    // @ts-ignore\n    return node === document || (node && node.nodeType === Node.DOCUMENT_NODE);\n};\nvar isInert = function (node) { return node.hasAttribute('inert'); };\n/**\n * @see https://github.com/testing-library/jest-dom/blob/main/src/to-be-visible.js\n */\nvar isVisibleUncached = function (node, checkParent) {\n    return !node || isTopNode(node) || (!isElementHidden(node) && !isInert(node) && checkParent(getParentNode(node)));\n};\nexport var isVisibleCached = function (visibilityCache, node) {\n    var cached = visibilityCache.get(node);\n    if (cached !== undefined) {\n        return cached;\n    }\n    var result = isVisibleUncached(node, isVisibleCached.bind(undefined, visibilityCache));\n    visibilityCache.set(node, result);\n    return result;\n};\nvar isAutoFocusAllowedUncached = function (node, checkParent) {\n    return node && !isTopNode(node) ? (isAutoFocusAllowed(node) ? checkParent(getParentNode(node)) : false) : true;\n};\nexport var isAutoFocusAllowedCached = function (cache, node) {\n    var cached = cache.get(node);\n    if (cached !== undefined) {\n        return cached;\n    }\n    var result = isAutoFocusAllowedUncached(node, isAutoFocusAllowedCached.bind(undefined, cache));\n    cache.set(node, result);\n    return result;\n};\nexport var getDataset = function (node) {\n    // @ts-ignore\n    return node.dataset;\n};\nexport var isHTMLButtonElement = function (node) { return node.tagName === 'BUTTON'; };\nexport var isHTMLInputElement = function (node) { return node.tagName === 'INPUT'; };\nexport var isRadioElement = function (node) {\n    return isHTMLInputElement(node) && node.type === 'radio';\n};\nexport var notHiddenInput = function (node) {\n    return !((isHTMLInputElement(node) || isHTMLButtonElement(node)) && (node.type === 'hidden' || node.disabled));\n};\nexport var isAutoFocusAllowed = function (node) {\n    var attribute = node.getAttribute(FOCUS_NO_AUTOFOCUS);\n    return ![true, 'true', ''].includes(attribute);\n};\nexport var isGuard = function (node) { var _a; return Boolean(node && ((_a = getDataset(node)) === null || _a === void 0 ? void 0 : _a.focusGuard)); };\nexport var isNotAGuard = function (node) { return !isGuard(node); };\nexport var isDefined = function (x) { return Boolean(x); };\n","import { toArray } from './array';\nexport var tabSort = function (a, b) {\n    var aTab = Math.max(0, a.tabIndex);\n    var bTab = Math.max(0, b.tabIndex);\n    var tabDiff = aTab - bTab;\n    var indexDiff = a.index - b.index;\n    if (tabDiff) {\n        if (!aTab) {\n            return 1;\n        }\n        if (!bTab) {\n            return -1;\n        }\n    }\n    return tabDiff || indexDiff;\n};\nvar getTabIndex = function (node) {\n    if (node.tabIndex < 0) {\n        // all \"focusable\" elements are already preselected\n        // but some might have implicit negative tabIndex\n        // return 0 for <audio without tabIndex attribute - it is \"tabbable\"\n        if (!node.hasAttribute('tabindex')) {\n            return 0;\n        }\n    }\n    return node.tabIndex;\n};\nexport var orderByTabIndex = function (nodes, filterNegative, keepGuards) {\n    return toArray(nodes)\n        .map(function (node, index) {\n        var tabIndex = getTabIndex(node);\n        return {\n            node: node,\n            index: index,\n            tabIndex: keepGuards && tabIndex === -1 ? ((node.dataset || {}).focusGuard ? 0 : -1) : tabIndex,\n        };\n    })\n        .filter(function (data) { return !filterNegative || data.tabIndex >= 0; })\n        .sort(tabSort);\n};\n","/**\n * list of the object to be considered as focusable\n */\nexport var tabbables = [\n    'button:enabled',\n    'select:enabled',\n    'textarea:enabled',\n    'input:enabled',\n    // elements with explicit roles will also use explicit tabindex\n    // '[role=\"button\"]',\n    'a[href]',\n    'area[href]',\n    'summary',\n    'iframe',\n    'object',\n    'embed',\n    'audio[controls]',\n    'video[controls]',\n    '[tabindex]',\n    '[contenteditable]',\n    '[autofocus]',\n];\n","import { FOCUS_AUTO } from '../constants';\nimport { toArray } from './array';\nimport { tabbables } from './tabbables';\nvar queryTabbables = tabbables.join(',');\nvar queryGuardTabbables = \"\".concat(queryTabbables, \", [data-focus-guard]\");\nvar getFocusablesWithShadowDom = function (parent, withGuards) {\n    return toArray((parent.shadowRoot || parent).children).reduce(function (acc, child) {\n        return acc.concat(child.matches(withGuards ? queryGuardTabbables : queryTabbables) ? [child] : [], getFocusablesWithShadowDom(child));\n    }, []);\n};\nvar getFocusablesWithIFrame = function (parent, withGuards) {\n    var _a;\n    // contentDocument of iframe will be null if current origin cannot access it\n    if (parent instanceof HTMLIFrameElement && ((_a = parent.contentDocument) === null || _a === void 0 ? void 0 : _a.body)) {\n        return getFocusables([parent.contentDocument.body], withGuards);\n    }\n    return [parent];\n};\nexport var getFocusables = function (parents, withGuards) {\n    return parents.reduce(function (acc, parent) {\n        var _a;\n        var focusableWithShadowDom = getFocusablesWithShadowDom(parent, withGuards);\n        var focusableWithIframes = (_a = []).concat.apply(_a, focusableWithShadowDom.map(function (node) { return getFocusablesWithIFrame(node, withGuards); }));\n        return acc.concat(\n        // add all tabbables inside and within shadow DOMs in DOM order\n        focusableWithIframes, \n        // add if node is tabbable itself\n        parent.parentNode\n            ? toArray(parent.parentNode.querySelectorAll(queryTabbables)).filter(function (node) { return node === parent; })\n            : []);\n    }, []);\n};\n/**\n * return a list of focusable nodes within an area marked as \"auto-focusable\"\n * @param parent\n */\nexport var getParentAutofocusables = function (parent) {\n    var parentFocus = parent.querySelectorAll(\"[\".concat(FOCUS_AUTO, \"]\"));\n    return toArray(parentFocus)\n        .map(function (node) { return getFocusables([node]); })\n        .reduce(function (acc, nodes) { return acc.concat(nodes); }, []);\n};\n","import { toArray } from './array';\nimport { isAutoFocusAllowedCached, isVisibleCached, notHiddenInput } from './is';\nimport { orderByTabIndex } from './tabOrder';\nimport { getFocusables, getParentAutofocusables } from './tabUtils';\n/**\n * given list of focusable elements keeps the ones user can interact with\n * @param nodes\n * @param visibilityCache\n */\nexport var filterFocusable = function (nodes, visibilityCache) {\n    return toArray(nodes)\n        .filter(function (node) { return isVisibleCached(visibilityCache, node); })\n        .filter(function (node) { return notHiddenInput(node); });\n};\nexport var filterAutoFocusable = function (nodes, cache) {\n    if (cache === void 0) { cache = new Map(); }\n    return toArray(nodes).filter(function (node) { return isAutoFocusAllowedCached(cache, node); });\n};\n/**\n * !__WARNING__! Low level API.\n * @returns all tabbable nodes\n *\n * @see {@link getFocusableNodes} to get any focusable element\n *\n * @param topNodes - array of top level HTMLElements to search inside\n * @param visibilityCache - an cache to store intermediate measurements. Expected to be a fresh `new Map` on every call\n */\nexport var getTabbableNodes = function (topNodes, visibilityCache, withGuards) {\n    return orderByTabIndex(filterFocusable(getFocusables(topNodes, withGuards), visibilityCache), true, withGuards);\n};\n/**\n * !__WARNING__! Low level API.\n *\n * @returns anything \"focusable\", not only tabbable. The difference is in `tabIndex=-1`\n * (without guards, as long as they are not expected to be ever focused)\n *\n * @see {@link getTabbableNodes} to get only tabble nodes element\n *\n * @param topNodes - array of top level HTMLElements to search inside\n * @param visibilityCache - an cache to store intermediate measurements. Expected to be a fresh `new Map` on every call\n */\nexport var getFocusableNodes = function (topNodes, visibilityCache) {\n    return orderByTabIndex(filterFocusable(getFocusables(topNodes), visibilityCache), false);\n};\n/**\n * return list of nodes which are expected to be auto-focused\n * @param topNode\n * @param visibilityCache\n */\nexport var parentAutofocusables = function (topNode, visibilityCache) {\n    return filterFocusable(getParentAutofocusables(topNode), visibilityCache);\n};\n/*\n * Determines if element is contained in scope, including nested shadow DOMs\n */\nexport var contains = function (scope, element) {\n    if (scope.shadowRoot) {\n        return contains(scope.shadowRoot, element);\n    }\n    else {\n        if (Object.getPrototypeOf(scope).contains !== undefined &&\n            Object.getPrototypeOf(scope).contains.call(scope, element)) {\n            return true;\n        }\n        return toArray(scope.children).some(function (child) {\n            var _a;\n            if (child instanceof HTMLIFrameElement) {\n                var iframeBody = (_a = child.contentDocument) === null || _a === void 0 ? void 0 : _a.body;\n                if (iframeBody) {\n                    return contains(iframeBody, element);\n                }\n                return false;\n            }\n            return contains(child, element);\n        });\n    }\n};\n","import { FOCUS_DISABLED, FOCUS_GROUP } from '../constants';\nimport { asArray, toArray } from './array';\n/**\n * in case of multiple nodes nested inside each other\n * keeps only top ones\n * this is O(nlogn)\n * @param nodes\n * @returns {*}\n */\nvar filterNested = function (nodes) {\n    var contained = new Set();\n    var l = nodes.length;\n    for (var i = 0; i < l; i += 1) {\n        for (var j = i + 1; j < l; j += 1) {\n            var position = nodes[i].compareDocumentPosition(nodes[j]);\n            /* eslint-disable no-bitwise */\n            if ((position & Node.DOCUMENT_POSITION_CONTAINED_BY) > 0) {\n                contained.add(j);\n            }\n            if ((position & Node.DOCUMENT_POSITION_CONTAINS) > 0) {\n                contained.add(i);\n            }\n            /* eslint-enable */\n        }\n    }\n    return nodes.filter(function (_, index) { return !contained.has(index); });\n};\n/**\n * finds top most parent for a node\n * @param node\n * @returns {*}\n */\nvar getTopParent = function (node) {\n    return node.parentNode ? getTopParent(node.parentNode) : node;\n};\n/**\n * returns all \"focus containers\" inside a given node\n * @param node - node or nodes to look inside\n * @returns Element[]\n */\nexport var getAllAffectedNodes = function (node) {\n    var nodes = asArray(node);\n    return nodes.filter(Boolean).reduce(function (acc, currentNode) {\n        var group = currentNode.getAttribute(FOCUS_GROUP);\n        acc.push.apply(acc, (group\n            ? filterNested(toArray(getTopParent(currentNode).querySelectorAll(\"[\".concat(FOCUS_GROUP, \"=\\\"\").concat(group, \"\\\"]:not([\").concat(FOCUS_DISABLED, \"=\\\"disabled\\\"])\"))))\n            : [currentNode]));\n        return acc;\n    }, []);\n};\n","export var safeProbe = function (cb) {\n    try {\n        return cb();\n    }\n    catch (e) {\n        return undefined;\n    }\n};\n","/**\n * returns active element from document or from nested shadowdoms\n */\nimport { safeProbe } from './safe';\n/**\n * returns current active element. If the active element is a \"container\" itself(shadowRoot or iframe) returns active element inside it\n * @param [inDocument]\n */\nexport var getActiveElement = function (inDocument) {\n    if (inDocument === void 0) { inDocument = document; }\n    if (!inDocument || !inDocument.activeElement) {\n        return undefined;\n    }\n    var activeElement = inDocument.activeElement;\n    return (activeElement.shadowRoot\n        ? getActiveElement(activeElement.shadowRoot)\n        : activeElement instanceof HTMLIFrameElement && safeProbe(function () { return activeElement.contentWindow.document; })\n            ? getActiveElement(activeElement.contentWindow.document)\n            : activeElement);\n};\n","import { contains } from './utils/DOMutils';\nimport { getAllAffectedNodes } from './utils/all-affected';\nimport { getFirst, toArray } from './utils/array';\nimport { getActiveElement } from './utils/getActiveElement';\nvar focusInFrame = function (frame, activeElement) { return frame === activeElement; };\nvar focusInsideIframe = function (topNode, activeElement) {\n    return Boolean(toArray(topNode.querySelectorAll('iframe')).some(function (node) { return focusInFrame(node, activeElement); }));\n};\n/**\n * @returns {Boolean} true, if the current focus is inside given node or nodes.\n * Supports nodes hidden inside shadowDom\n */\nexport var focusInside = function (topNode, activeElement) {\n    // const activeElement = document && getActiveElement();\n    if (activeElement === void 0) { activeElement = getActiveElement(getFirst(topNode).ownerDocument); }\n    if (!activeElement || (activeElement.dataset && activeElement.dataset.focusGuard)) {\n        return false;\n    }\n    return getAllAffectedNodes(topNode).some(function (node) {\n        return contains(node, activeElement) || focusInsideIframe(node, activeElement);\n    });\n};\n","import { FOCUS_ALLOW } from './constants';\nimport { contains } from './utils/DOMutils';\nimport { toArray } from './utils/array';\nimport { getActiveElement } from './utils/getActiveElement';\n/**\n * checks if focus is hidden FROM the focus-lock\n * ie contained inside a node focus-lock shall ignore\n *\n * This is a utility function coupled with {@link FOCUS_ALLOW} constant\n *\n * @returns {boolean} focus is currently is in \"allow\" area\n */\nexport var focusIsHidden = function (inDocument) {\n    if (inDocument === void 0) { inDocument = document; }\n    var activeElement = getActiveElement(inDocument);\n    if (!activeElement) {\n        return false;\n    }\n    // this does not support setting FOCUS_ALLOW within shadow dom\n    return toArray(inDocument.querySelectorAll(\"[\".concat(FOCUS_ALLOW, \"]\"))).some(function (node) { return contains(node, activeElement); });\n};\n","import { isRadioElement } from './is';\nvar findSelectedRadio = function (node, nodes) {\n    return nodes\n        .filter(isRadioElement)\n        .filter(function (el) { return el.name === node.name; })\n        .filter(function (el) { return el.checked; })[0] || node;\n};\nexport var correctNode = function (node, nodes) {\n    if (isRadioElement(node) && node.name) {\n        return findSelectedRadio(node, nodes);\n    }\n    return node;\n};\n/**\n * giving a set of radio inputs keeps only selected (tabbable) ones\n * @param nodes\n */\nexport var correctNodes = function (nodes) {\n    // IE11 has no Set(array) constructor\n    var resultSet = new Set();\n    nodes.forEach(function (node) { return resultSet.add(correctNode(node, nodes)); });\n    // using filter to support IE11\n    return nodes.filter(function (node) { return resultSet.has(node); });\n};\n","import { correctNode } from './correctFocus';\nexport var pickFirstFocus = function (nodes) {\n    if (nodes[0] && nodes.length > 1) {\n        return correctNode(nodes[0], nodes);\n    }\n    return nodes[0];\n};\nexport var pickFocusable = function (nodes, node) {\n    return nodes.indexOf(correctNode(node, nodes));\n};\n","import { correctNodes } from './utils/correctFocus';\nimport { pickFocusable } from './utils/firstFocus';\nimport { isGuard } from './utils/is';\nexport var NEW_FOCUS = 'NEW_FOCUS';\n/**\n * Main solver for the \"find next focus\" question\n * @param innerNodes - used to control \"return focus\"\n * @param innerTabbables - used to control \"autofocus\"\n * @param outerNodes\n * @param activeElement\n * @param lastNode\n * @returns {number|string|undefined|*}\n */\nexport var newFocus = function (innerNodes, innerTabbables, outerNodes, activeElement, lastNode) {\n    var cnt = innerNodes.length;\n    var firstFocus = innerNodes[0];\n    var lastFocus = innerNodes[cnt - 1];\n    var isOnGuard = isGuard(activeElement);\n    // focus is inside\n    if (activeElement && innerNodes.indexOf(activeElement) >= 0) {\n        return undefined;\n    }\n    var activeIndex = activeElement !== undefined ? outerNodes.indexOf(activeElement) : -1;\n    var lastIndex = lastNode ? outerNodes.indexOf(lastNode) : activeIndex;\n    var lastNodeInside = lastNode ? innerNodes.indexOf(lastNode) : -1;\n    // no active focus (or focus is on the body)\n    if (activeIndex === -1) {\n        // known fallback\n        if (lastNodeInside !== -1) {\n            return lastNodeInside;\n        }\n        return NEW_FOCUS;\n    }\n    // new focus, nothing to calculate\n    if (lastNodeInside === -1) {\n        return NEW_FOCUS;\n    }\n    var indexDiff = activeIndex - lastIndex;\n    var firstNodeIndex = outerNodes.indexOf(firstFocus);\n    var lastNodeIndex = outerNodes.indexOf(lastFocus);\n    var correctedNodes = correctNodes(outerNodes);\n    var currentFocusableIndex = activeElement !== undefined ? correctedNodes.indexOf(activeElement) : -1;\n    var previousFocusableIndex = lastNode ? correctedNodes.indexOf(lastNode) : currentFocusableIndex;\n    var tabbableNodes = correctedNodes.filter(function (node) { return node.tabIndex >= 0; });\n    var currentTabbableIndex = activeElement !== undefined ? tabbableNodes.indexOf(activeElement) : -1;\n    var previousTabbableIndex = lastNode ? tabbableNodes.indexOf(lastNode) : currentTabbableIndex;\n    var focusIndexDiff = currentTabbableIndex >= 0 && previousTabbableIndex >= 0\n        ? // old/new are tabbables, measure distance in tabbable space\n            previousTabbableIndex - currentTabbableIndex\n        : // or else measure in focusable space\n            previousFocusableIndex - currentFocusableIndex;\n    // old focus\n    if (!indexDiff && lastNodeInside >= 0) {\n        return lastNodeInside;\n    }\n    // no tabbable elements, autofocus is not possible\n    if (innerTabbables.length === 0) {\n        // an edge case with no tabbable elements\n        // return the last focusable one\n        // with some probability this will prevent focus from cycling across the lock, but there is no tabbale elements to cycle to\n        return lastNodeInside;\n    }\n    var returnFirstNode = pickFocusable(innerNodes, innerTabbables[0]);\n    var returnLastNode = pickFocusable(innerNodes, innerTabbables[innerTabbables.length - 1]);\n    // first element\n    if (activeIndex <= firstNodeIndex && isOnGuard && Math.abs(indexDiff) > 1) {\n        return returnLastNode;\n    }\n    // last element\n    if (activeIndex >= lastNodeIndex && isOnGuard && Math.abs(indexDiff) > 1) {\n        return returnFirstNode;\n    }\n    // jump out, but not on the guard\n    if (indexDiff && Math.abs(focusIndexDiff) > 1) {\n        return lastNodeInside;\n    }\n    // focus above lock\n    if (activeIndex <= firstNodeIndex) {\n        return returnLastNode;\n    }\n    // focus below lock\n    if (activeIndex > lastNodeIndex) {\n        return returnFirstNode;\n    }\n    // index is inside tab order, but outside Lock\n    if (indexDiff) {\n        if (Math.abs(indexDiff) > 1) {\n            return lastNodeInside;\n        }\n        return (cnt + lastNodeInside + indexDiff) % cnt;\n    }\n    // do nothing\n    return undefined;\n};\n","import { filterAutoFocusable } from './DOMutils';\nimport { pickFirstFocus } from './firstFocus';\nimport { getDataset } from './is';\nvar findAutoFocused = function (autoFocusables) {\n    return function (node) {\n        var _a;\n        var autofocus = (_a = getDataset(node)) === null || _a === void 0 ? void 0 : _a.autofocus;\n        return (\n        // @ts-expect-error\n        node.autofocus ||\n            //\n            (autofocus !== undefined && autofocus !== 'false') ||\n            //\n            autoFocusables.indexOf(node) >= 0);\n    };\n};\nexport var pickAutofocus = function (nodesIndexes, orderedNodes, groups) {\n    var nodes = nodesIndexes.map(function (_a) {\n        var node = _a.node;\n        return node;\n    });\n    var autoFocusable = filterAutoFocusable(nodes.filter(findAutoFocused(groups)));\n    if (autoFocusable && autoFocusable.length) {\n        return pickFirstFocus(autoFocusable);\n    }\n    return pickFirstFocus(filterAutoFocusable(orderedNodes));\n};\n","import { parentAutofocusables } from './DOMutils';\nimport { contains } from './DOMutils';\nimport { asArray } from './array';\nvar getParents = function (node, parents) {\n    if (parents === void 0) { parents = []; }\n    parents.push(node);\n    if (node.parentNode) {\n        getParents(node.parentNode.host || node.parentNode, parents);\n    }\n    return parents;\n};\n/**\n * finds a parent for both nodeA and nodeB\n * @param nodeA\n * @param nodeB\n * @returns {boolean|*}\n */\nexport var getCommonParent = function (nodeA, nodeB) {\n    var parentsA = getParents(nodeA);\n    var parentsB = getParents(nodeB);\n    // tslint:disable-next-line:prefer-for-of\n    for (var i = 0; i < parentsA.length; i += 1) {\n        var currentParent = parentsA[i];\n        if (parentsB.indexOf(currentParent) >= 0) {\n            return currentParent;\n        }\n    }\n    return false;\n};\nexport var getTopCommonParent = function (baseActiveElement, leftEntry, rightEntries) {\n    var activeElements = asArray(baseActiveElement);\n    var leftEntries = asArray(leftEntry);\n    var activeElement = activeElements[0];\n    var topCommon = false;\n    leftEntries.filter(Boolean).forEach(function (entry) {\n        topCommon = getCommonParent(topCommon || entry, entry) || topCommon;\n        rightEntries.filter(Boolean).forEach(function (subEntry) {\n            var common = getCommonParent(activeElement, subEntry);\n            if (common) {\n                if (!topCommon || contains(common, topCommon)) {\n                    topCommon = common;\n                }\n                else {\n                    topCommon = getCommonParent(common, topCommon);\n                }\n            }\n        });\n    });\n    // TODO: add assert here?\n    return topCommon;\n};\n/**\n * return list of nodes which are expected to be autofocused inside a given top nodes\n * @param entries\n * @param visibilityCache\n */\nexport var allParentAutofocusables = function (entries, visibilityCache) {\n    return entries.reduce(function (acc, node) { return acc.concat(parentAutofocusables(node, visibilityCache)); }, []);\n};\n","import { NEW_FOCUS, newFocus } from './solver';\nimport { getFocusableNodes } from './utils/DOMutils';\nimport { getAllAffectedNodes } from './utils/all-affected';\nimport { asArray, getFirst } from './utils/array';\nimport { pickAutofocus } from './utils/auto-focus';\nimport { getActiveElement } from './utils/getActiveElement';\nimport { isDefined, isNotAGuard } from './utils/is';\nimport { allParentAutofocusables, getTopCommonParent } from './utils/parenting';\nvar reorderNodes = function (srcNodes, dstNodes) {\n    var remap = new Map();\n    // no Set(dstNodes) for IE11 :(\n    dstNodes.forEach(function (entity) { return remap.set(entity.node, entity); });\n    // remap to dstNodes\n    return srcNodes.map(function (node) { return remap.get(node); }).filter(isDefined);\n};\n/**\n * contains the main logic of the `focus-lock` package.\n *\n * ! you probably dont need this function !\n *\n * given top node(s) and the last active element returns the element to be focused next\n * @returns element which should be focused to move focus inside\n * @param topNode\n * @param lastNode\n */\nexport var focusSolver = function (topNode, lastNode) {\n    var activeElement = getActiveElement(asArray(topNode).length > 0 ? document : getFirst(topNode).ownerDocument);\n    var entries = getAllAffectedNodes(topNode).filter(isNotAGuard);\n    var commonParent = getTopCommonParent(activeElement || topNode, topNode, entries);\n    var visibilityCache = new Map();\n    var anyFocusable = getFocusableNodes(entries, visibilityCache);\n    var innerElements = anyFocusable.filter(function (_a) {\n        var node = _a.node;\n        return isNotAGuard(node);\n    });\n    if (!innerElements[0]) {\n        return undefined;\n    }\n    var outerNodes = getFocusableNodes([commonParent], visibilityCache).map(function (_a) {\n        var node = _a.node;\n        return node;\n    });\n    var orderedInnerElements = reorderNodes(outerNodes, innerElements);\n    // collect inner focusable and separately tabbables\n    var innerFocusables = orderedInnerElements.map(function (_a) {\n        var node = _a.node;\n        return node;\n    });\n    var innerTabbable = orderedInnerElements.filter(function (_a) {\n        var tabIndex = _a.tabIndex;\n        return tabIndex >= 0;\n    }).map(function (_a) {\n        var node = _a.node;\n        return node;\n    });\n    var newId = newFocus(innerFocusables, innerTabbable, outerNodes, activeElement, lastNode);\n    if (newId === NEW_FOCUS) {\n        var focusNode = \n        // first try only tabbable, and the fallback to all focusable, as long as at least one element should be picked for focus\n        pickAutofocus(anyFocusable, innerTabbable, allParentAutofocusables(entries, visibilityCache)) ||\n            pickAutofocus(anyFocusable, innerFocusables, allParentAutofocusables(entries, visibilityCache));\n        if (focusNode) {\n            return { node: focusNode };\n        }\n        else {\n            console.warn('focus-lock: cannot find any node to move focus into');\n            return undefined;\n        }\n    }\n    if (newId === undefined) {\n        return newId;\n    }\n    return orderedInnerElements[newId];\n};\n","import { getAllAffectedNodes } from './utils/all-affected';\nimport { isGuard, isNotAGuard } from './utils/is';\nimport { getTopCommonParent } from './utils/parenting';\nimport { orderByTabIndex } from './utils/tabOrder';\nimport { getFocusables } from './utils/tabUtils';\n/**\n * traverses all related nodes (including groups) returning a list of all nodes(outer and internal) with meta information\n * This is low-level API!\n * @returns list of focusable elements inside a given top(!) node.\n * @see {@link getFocusableNodes} providing a simpler API\n */\nexport var expandFocusableNodes = function (topNode) {\n    var entries = getAllAffectedNodes(topNode).filter(isNotAGuard);\n    var commonParent = getTopCommonParent(topNode, topNode, entries);\n    var outerNodes = orderByTabIndex(getFocusables([commonParent], true), true, true);\n    var innerElements = getFocusables(entries, false);\n    return outerNodes.map(function (_a) {\n        var node = _a.node, index = _a.index;\n        return ({\n            node: node,\n            index: index,\n            lockItem: innerElements.indexOf(node) >= 0,\n            guard: isGuard(node),\n        });\n    });\n};\n","export var focusOn = function (target, focusOptions) {\n    if (!target) {\n        // not clear how, but is possible https://github.com/theKashey/focus-lock/issues/53\n        return;\n    }\n    if ('focus' in target) {\n        target.focus(focusOptions);\n    }\n    if ('contentWindow' in target && target.contentWindow) {\n        target.contentWindow.focus();\n    }\n};\n","import { focusOn } from './commands';\nimport { focusSolver } from './focusSolver';\nvar guardCount = 0;\nvar lockDisabled = false;\n/**\n * The main functionality of the focus-lock package\n *\n * Contains focus at a given node.\n * The last focused element will help to determine which element(first or last) should be focused.\n * The found element will be focused.\n *\n * This is one time action (move), not a persistent focus-lock\n *\n * HTML markers (see {@link import('./constants').FOCUS_AUTO} constants) can control autofocus\n * @see {@link focusSolver} for the same functionality without autofocus\n */\nexport var moveFocusInside = function (topNode, lastNode, options) {\n    if (options === void 0) { options = {}; }\n    var focusable = focusSolver(topNode, lastNode);\n    // global local side effect to countain recursive lock activation and resolve focus-fighting\n    if (lockDisabled) {\n        return;\n    }\n    if (focusable) {\n        /** +FOCUS-FIGHTING prevention **/\n        if (guardCount > 2) {\n            // we have recursive entered back the lock activation\n            console.error('FocusLock: focus-fighting detected. Only one focus management system could be active. ' +\n                'See https://github.com/theKashey/focus-lock/#focus-fighting');\n            lockDisabled = true;\n            setTimeout(function () {\n                lockDisabled = false;\n            }, 1);\n            return;\n        }\n        guardCount++;\n        focusOn(focusable.node, options.focusOptions);\n        guardCount--;\n    }\n};\n","import { getTabbableNodes } from './utils/DOMutils';\nfunction weakRef(value) {\n    if (!value)\n        return null;\n    // #68 Safari 14.1 dont have it yet\n    // FIXME: remove in 2025\n    if (typeof WeakRef === 'undefined') {\n        return function () { return value || null; };\n    }\n    var w = value ? new WeakRef(value) : null;\n    return function () { return (w === null || w === void 0 ? void 0 : w.deref()) || null; };\n}\nexport var recordElementLocation = function (element) {\n    if (!element) {\n        return null;\n    }\n    var stack = [];\n    var currentElement = element;\n    while (currentElement && currentElement !== document.body) {\n        stack.push({\n            current: weakRef(currentElement),\n            parent: weakRef(currentElement.parentElement),\n            left: weakRef(currentElement.previousElementSibling),\n            right: weakRef(currentElement.nextElementSibling),\n        });\n        currentElement = currentElement.parentElement;\n    }\n    return {\n        element: weakRef(element),\n        stack: stack,\n        ownerDocument: element.ownerDocument,\n    };\n};\nvar restoreFocusTo = function (location) {\n    var _a, _b, _c, _d, _e;\n    if (!location) {\n        return undefined;\n    }\n    var stack = location.stack, ownerDocument = location.ownerDocument;\n    var visibilityCache = new Map();\n    for (var _i = 0, stack_1 = stack; _i < stack_1.length; _i++) {\n        var line = stack_1[_i];\n        var parent_1 = (_a = line.parent) === null || _a === void 0 ? void 0 : _a.call(line);\n        // is it still here?\n        if (parent_1 && ownerDocument.contains(parent_1)) {\n            var left = (_b = line.left) === null || _b === void 0 ? void 0 : _b.call(line);\n            var savedCurrent = line.current();\n            var current = parent_1.contains(savedCurrent) ? savedCurrent : undefined;\n            var right = (_c = line.right) === null || _c === void 0 ? void 0 : _c.call(line);\n            var focusables = getTabbableNodes([parent_1], visibilityCache);\n            var aim = \n            // that is element itself\n            (_e = (_d = current !== null && current !== void 0 ? current : \n            // or something in it's place\n            left === null || left === void 0 ? void 0 : left.nextElementSibling) !== null && _d !== void 0 ? _d : \n            // or somebody to the right, still close enough\n            right) !== null && _e !== void 0 ? _e : \n            // or somebody to the left, something?\n            left;\n            while (aim) {\n                for (var _f = 0, focusables_1 = focusables; _f < focusables_1.length; _f++) {\n                    var focusable = focusables_1[_f];\n                    if (aim === null || aim === void 0 ? void 0 : aim.contains(focusable.node)) {\n                        return focusable.node;\n                    }\n                }\n                aim = aim.nextElementSibling;\n            }\n            if (focusables.length) {\n                // if parent contains a focusable - move there\n                return focusables[0].node;\n            }\n        }\n    }\n    // nothing matched\n    return undefined;\n};\n/**\n * Captures the current focused element to restore focus as close as possible in the future\n * Handles situations where the focused element is removed from the DOM or no longer focusable\n * moving focus to the closest focusable element\n * @param targetElement - element where focus should be restored\n * @returns a function returning a new element to focus\n */\nexport var captureFocusRestore = function (targetElement) {\n    var location = recordElementLocation(targetElement);\n    return function () {\n        return restoreFocusTo(location);\n    };\n};\n","import { focusOn } from './commands';\nimport { getTabbableNodes, contains, getFocusableNodes } from './utils/DOMutils';\nimport { asArray } from './utils/array';\n/**\n * for a given `element` in a given `scope` returns focusable siblings\n * @param element - base element\n * @param scope - common parent. Can be document, but better to narrow it down for performance reasons\n * @returns {prev,next} - references to a focusable element before and after\n * @returns undefined - if operation is not applicable\n */\nexport var getRelativeFocusable = function (element, scope, useTabbables) {\n    if (!element || !scope) {\n        console.error('no element or scope given');\n        return {};\n    }\n    var shards = asArray(scope);\n    if (shards.every(function (shard) { return !contains(shard, element); })) {\n        console.error('Active element is not contained in the scope');\n        return {};\n    }\n    var focusables = useTabbables\n        ? getTabbableNodes(shards, new Map())\n        : getFocusableNodes(shards, new Map());\n    var current = focusables.findIndex(function (_a) {\n        var node = _a.node;\n        return node === element;\n    });\n    if (current === -1) {\n        // an edge case, when anchor element is not found\n        return undefined;\n    }\n    return {\n        prev: focusables[current - 1],\n        next: focusables[current + 1],\n        first: focusables[0],\n        last: focusables[focusables.length - 1],\n    };\n};\nvar getBoundary = function (shards, useTabbables) {\n    var set = useTabbables\n        ? getTabbableNodes(asArray(shards), new Map())\n        : getFocusableNodes(asArray(shards), new Map());\n    return {\n        first: set[0],\n        last: set[set.length - 1],\n    };\n};\nvar defaultOptions = function (options) {\n    return Object.assign({\n        scope: document.body,\n        cycle: true,\n        onlyTabbable: true,\n    }, options);\n};\nvar moveFocus = function (fromElement, options, cb) {\n    if (options === void 0) { options = {}; }\n    var newOptions = defaultOptions(options);\n    var solution = getRelativeFocusable(fromElement, newOptions.scope, newOptions.onlyTabbable);\n    if (!solution) {\n        return;\n    }\n    var target = cb(solution, newOptions.cycle);\n    if (target) {\n        focusOn(target.node, newOptions.focusOptions);\n    }\n};\n/**\n * focuses next element in the tab-order\n * @param fromElement - common parent to scope active element search or tab cycle order\n * @param {FocusNextOptions} [options] - focus options\n */\nexport var focusNextElement = function (fromElement, options) {\n    if (options === void 0) { options = {}; }\n    moveFocus(fromElement, options, function (_a, cycle) {\n        var next = _a.next, first = _a.first;\n        return next || (cycle && first);\n    });\n};\n/**\n * focuses prev element in the tab order\n * @param fromElement - common parent to scope active element search or tab cycle order\n * @param {FocusNextOptions} [options] - focus options\n */\nexport var focusPrevElement = function (fromElement, options) {\n    if (options === void 0) { options = {}; }\n    moveFocus(fromElement, options, function (_a, cycle) {\n        var prev = _a.prev, last = _a.last;\n        return prev || (cycle && last);\n    });\n};\nvar pickBoundary = function (scope, options, what) {\n    var _a;\n    var boundary = getBoundary(scope, (_a = options.onlyTabbable) !== null && _a !== void 0 ? _a : true);\n    var node = boundary[what];\n    if (node) {\n        focusOn(node.node, options.focusOptions);\n    }\n};\n/**\n * focuses first element in the tab-order\n * @param {FocusNextOptions} options - focus options\n */\nexport var focusFirstElement = function (scope, options) {\n    if (options === void 0) { options = {}; }\n    pickBoundary(scope, options, 'first');\n};\n/**\n * focuses last element in the tab order\n * @param {FocusNextOptions} options - focus options\n */\nexport var focusLastElement = function (scope, options) {\n    if (options === void 0) { options = {}; }\n    pickBoundary(scope, options, 'last');\n};\n","export function deferAction(action) {\n  setTimeout(action, 1);\n}\nexport var inlineProp = function inlineProp(name, value) {\n  var obj = {};\n  obj[name] = value;\n  return obj;\n};\nexport var extractRef = function extractRef(ref) {\n  return ref && 'current' in ref ? ref.current : ref;\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withSideEffect from 'react-clientside-effect';\nimport { moveFocusInside, focusInside, focusIsHidden, expandFocusableNodes, getFocusableNodes, focusNextElement, focusPrevElement, focusFirstElement, focusLastElement, captureFocusRestore } from 'focus-lock';\nimport { deferAction, extractRef } from './util';\nimport { mediumFocus, mediumBlur, mediumEffect } from './medium';\nvar focusOnBody = function focusOnBody() {\n  return document && document.activeElement === document.body;\n};\nvar isFreeFocus = function isFreeFocus() {\n  return focusOnBody() || focusIsHidden();\n};\nvar lastActiveTrap = null;\nvar lastActiveFocus = null;\nvar tryRestoreFocus = function tryRestoreFocus() {\n  return null;\n};\nvar lastPortaledElement = null;\nvar focusWasOutsideWindow = false;\nvar windowFocused = false;\nvar defaultWhitelist = function defaultWhitelist() {\n  return true;\n};\nvar focusWhitelisted = function focusWhitelisted(activeElement) {\n  return (lastActiveTrap.whiteList || defaultWhitelist)(activeElement);\n};\nvar recordPortal = function recordPortal(observerNode, portaledElement) {\n  lastPortaledElement = {\n    observerNode: observerNode,\n    portaledElement: portaledElement\n  };\n};\nvar focusIsPortaledPair = function focusIsPortaledPair(element) {\n  return lastPortaledElement && lastPortaledElement.portaledElement === element;\n};\nfunction autoGuard(startIndex, end, step, allNodes) {\n  var lastGuard = null;\n  var i = startIndex;\n  do {\n    var item = allNodes[i];\n    if (item.guard) {\n      if (item.node.dataset.focusAutoGuard) {\n        lastGuard = item;\n      }\n    } else if (item.lockItem) {\n      if (i !== startIndex) {\n        return;\n      }\n      lastGuard = null;\n    } else {\n      break;\n    }\n  } while ((i += step) !== end);\n  if (lastGuard) {\n    lastGuard.node.tabIndex = 0;\n  }\n}\nvar focusWasOutside = function focusWasOutside(crossFrameOption) {\n  if (crossFrameOption) {\n    return Boolean(focusWasOutsideWindow);\n  }\n  return focusWasOutsideWindow === 'meanwhile';\n};\nvar checkInHost = function checkInHost(check, el, boundary) {\n  return el && (el.host === check && (!el.activeElement || boundary.contains(el.activeElement)) || el.parentNode && checkInHost(check, el.parentNode, boundary));\n};\nvar withinHost = function withinHost(activeElement, workingArea) {\n  return workingArea.some(function (area) {\n    return checkInHost(activeElement, area, area);\n  });\n};\nvar getNodeFocusables = function getNodeFocusables(nodes) {\n  return getFocusableNodes(nodes, new Map());\n};\nvar isNotFocusable = function isNotFocusable(node) {\n  return !getNodeFocusables([node.parentNode]).some(function (el) {\n    return el.node === node;\n  });\n};\nvar activateTrap = function activateTrap() {\n  var result = false;\n  if (lastActiveTrap) {\n    var _lastActiveTrap = lastActiveTrap,\n      observed = _lastActiveTrap.observed,\n      persistentFocus = _lastActiveTrap.persistentFocus,\n      autoFocus = _lastActiveTrap.autoFocus,\n      shards = _lastActiveTrap.shards,\n      crossFrame = _lastActiveTrap.crossFrame,\n      focusOptions = _lastActiveTrap.focusOptions,\n      noFocusGuards = _lastActiveTrap.noFocusGuards;\n    var workingNode = observed || lastPortaledElement && lastPortaledElement.portaledElement;\n    if (focusOnBody() && lastActiveFocus && lastActiveFocus !== document.body) {\n      if (!document.body.contains(lastActiveFocus) || isNotFocusable(lastActiveFocus)) {\n        var newTarget = tryRestoreFocus();\n        if (newTarget) {\n          newTarget.focus();\n        }\n      }\n    }\n    var activeElement = document && document.activeElement;\n    if (workingNode) {\n      var workingArea = [workingNode].concat(shards.map(extractRef).filter(Boolean));\n      var shouldForceRestoreFocus = function shouldForceRestoreFocus() {\n        if (!focusWasOutside(crossFrame) || !noFocusGuards || !lastActiveFocus || windowFocused) {\n          return false;\n        }\n        var nodes = getNodeFocusables(workingArea);\n        var lastIndex = nodes.findIndex(function (_ref) {\n          var node = _ref.node;\n          return node === lastActiveFocus;\n        });\n        return lastIndex === 0 || lastIndex === nodes.length - 1;\n      };\n      if (!activeElement || focusWhitelisted(activeElement)) {\n        if (persistentFocus || shouldForceRestoreFocus() || !isFreeFocus() || !lastActiveFocus && autoFocus) {\n          if (workingNode && !(focusInside(workingArea) || activeElement && withinHost(activeElement, workingArea) || focusIsPortaledPair(activeElement, workingNode))) {\n            if (document && !lastActiveFocus && activeElement && !autoFocus) {\n              if (activeElement.blur) {\n                activeElement.blur();\n              }\n              document.body.focus();\n            } else {\n              result = moveFocusInside(workingArea, lastActiveFocus, {\n                focusOptions: focusOptions\n              });\n              lastPortaledElement = {};\n            }\n          }\n          lastActiveFocus = document && document.activeElement;\n          if (lastActiveFocus !== document.body) {\n            tryRestoreFocus = captureFocusRestore(lastActiveFocus);\n          }\n          focusWasOutsideWindow = false;\n        }\n      }\n      if (document && activeElement !== document.activeElement && document.querySelector('[data-focus-auto-guard]')) {\n        var newActiveElement = document && document.activeElement;\n        var allNodes = expandFocusableNodes(workingArea);\n        var focusedIndex = allNodes.map(function (_ref2) {\n          var node = _ref2.node;\n          return node;\n        }).indexOf(newActiveElement);\n        if (focusedIndex > -1) {\n          allNodes.filter(function (_ref3) {\n            var guard = _ref3.guard,\n              node = _ref3.node;\n            return guard && node.dataset.focusAutoGuard;\n          }).forEach(function (_ref4) {\n            var node = _ref4.node;\n            return node.removeAttribute('tabIndex');\n          });\n          autoGuard(focusedIndex, allNodes.length, +1, allNodes);\n          autoGuard(focusedIndex, -1, -1, allNodes);\n        }\n      }\n    }\n  }\n  return result;\n};\nvar onTrap = function onTrap(event) {\n  if (activateTrap() && event) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n};\nvar onBlur = function onBlur() {\n  return deferAction(activateTrap);\n};\nvar onFocus = function onFocus(event) {\n  var source = event.target;\n  var currentNode = event.currentTarget;\n  if (!currentNode.contains(source)) {\n    recordPortal(currentNode, source);\n  }\n};\nvar FocusWatcher = function FocusWatcher() {\n  return null;\n};\nvar FocusTrap = function FocusTrap(_ref5) {\n  var children = _ref5.children;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onBlur: onBlur,\n    onFocus: onFocus\n  }, children);\n};\nFocusTrap.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.node.isRequired\n} : {};\nvar onWindowFocus = function onWindowFocus() {\n  windowFocused = true;\n};\nvar onWindowBlur = function onWindowBlur() {\n  windowFocused = false;\n  focusWasOutsideWindow = 'just';\n  deferAction(function () {\n    focusWasOutsideWindow = 'meanwhile';\n  });\n};\nvar attachHandler = function attachHandler() {\n  document.addEventListener('focusin', onTrap);\n  document.addEventListener('focusout', onBlur);\n  window.addEventListener('focus', onWindowFocus);\n  window.addEventListener('blur', onWindowBlur);\n};\nvar detachHandler = function detachHandler() {\n  document.removeEventListener('focusin', onTrap);\n  document.removeEventListener('focusout', onBlur);\n  window.removeEventListener('focus', onWindowFocus);\n  window.removeEventListener('blur', onWindowBlur);\n};\nfunction reducePropsToState(propsList) {\n  return propsList.filter(function (_ref6) {\n    var disabled = _ref6.disabled;\n    return !disabled;\n  });\n}\nvar focusLockAPI = {\n  moveFocusInside: moveFocusInside,\n  focusInside: focusInside,\n  focusNextElement: focusNextElement,\n  focusPrevElement: focusPrevElement,\n  focusFirstElement: focusFirstElement,\n  focusLastElement: focusLastElement,\n  captureFocusRestore: captureFocusRestore\n};\nfunction handleStateChangeOnClient(traps) {\n  var trap = traps.slice(-1)[0];\n  if (trap && !lastActiveTrap) {\n    attachHandler();\n  }\n  var lastTrap = lastActiveTrap;\n  var sameTrap = lastTrap && trap && trap.id === lastTrap.id;\n  lastActiveTrap = trap;\n  if (lastTrap && !sameTrap) {\n    lastTrap.onDeactivation();\n    if (!traps.filter(function (_ref7) {\n      var id = _ref7.id;\n      return id === lastTrap.id;\n    }).length) {\n      lastTrap.returnFocus(!trap);\n    }\n  }\n  if (trap) {\n    lastActiveFocus = null;\n    if (!sameTrap || lastTrap.observed !== trap.observed) {\n      trap.onActivation(focusLockAPI);\n    }\n    activateTrap(true);\n    deferAction(activateTrap);\n  } else {\n    detachHandler();\n    lastActiveFocus = null;\n  }\n}\nmediumFocus.assignSyncMedium(onFocus);\nmediumBlur.assignMedium(onBlur);\nmediumEffect.assignMedium(function (cb) {\n  return cb(focusLockAPI);\n});\nexport default withSideEffect(reducePropsToState, handleStateChangeOnClient)(FocusWatcher);","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React, { forwardRef } from 'react';\nimport FocusLockUI from './Lock';\nimport FocusTrap from './Trap';\nvar FocusLockCombination = /*#__PURE__*/forwardRef(function FocusLockUICombination(props, ref) {\n  return /*#__PURE__*/React.createElement(FocusLockUI, _extends({\n    sideCar: FocusTrap,\n    ref: ref\n  }, props));\n});\nvar _ref = FocusLockUI.propTypes || {},\n  sideCar = _ref.sideCar,\n  propTypes = _objectWithoutPropertiesLoose(_ref, [\"sideCar\"]);\nFocusLockCombination.propTypes = process.env.NODE_ENV !== \"production\" ? propTypes : {};\nexport default FocusLockCombination;","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport ReactFocusLock from 'react-focus-lock';\nimport { getAllFocusable } from '@chakra-ui/utils';\nimport { useCallback } from 'react';\n\nconst FocusTrap = ReactFocusLock.default ?? ReactFocusLock;\nconst FocusLock = (props) => {\n  const {\n    initialFocusRef,\n    finalFocusRef,\n    contentRef,\n    restoreFocus,\n    children,\n    isDisabled,\n    autoFocus,\n    persistentFocus,\n    lockFocusAcrossFrames\n  } = props;\n  const onActivation = useCallback(() => {\n    if (initialFocusRef?.current) {\n      initialFocusRef.current.focus();\n    } else if (contentRef?.current) {\n      const focusables = getAllFocusable(contentRef.current);\n      if (focusables.length === 0) {\n        requestAnimationFrame(() => {\n          contentRef.current?.focus();\n        });\n      }\n    }\n  }, [initialFocusRef, contentRef]);\n  const onDeactivation = useCallback(() => {\n    finalFocusRef?.current?.focus();\n  }, [finalFocusRef]);\n  const returnFocus = restoreFocus && !finalFocusRef;\n  return /* @__PURE__ */ jsx(\n    FocusTrap,\n    {\n      crossFrame: lockFocusAcrossFrames,\n      persistentFocus,\n      autoFocus,\n      disabled: isDisabled,\n      onActivation,\n      onDeactivation,\n      returnFocus,\n      children\n    }\n  );\n};\nFocusLock.displayName = \"FocusLock\";\n\nexport { FocusLock };\n","var getDefaultParent = function (originalTarget) {\n    if (typeof document === 'undefined') {\n        return null;\n    }\n    var sampleTarget = Array.isArray(originalTarget) ? originalTarget[0] : originalTarget;\n    return sampleTarget.ownerDocument.body;\n};\nvar counterMap = new WeakMap();\nvar uncontrolledNodes = new WeakMap();\nvar markerMap = {};\nvar lockCount = 0;\nvar unwrapHost = function (node) {\n    return node && (node.host || unwrapHost(node.parentNode));\n};\nvar correctTargets = function (parent, targets) {\n    return targets\n        .map(function (target) {\n        if (parent.contains(target)) {\n            return target;\n        }\n        var correctedTarget = unwrapHost(target);\n        if (correctedTarget && parent.contains(correctedTarget)) {\n            return correctedTarget;\n        }\n        console.error('aria-hidden', target, 'in not contained inside', parent, '. Doing nothing');\n        return null;\n    })\n        .filter(function (x) { return Boolean(x); });\n};\n/**\n * Marks everything except given node(or nodes) as aria-hidden\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @param {String} [controlAttribute] - html Attribute to control\n * @return {Undo} undo command\n */\nvar applyAttributeToOthers = function (originalTarget, parentNode, markerName, controlAttribute) {\n    var targets = correctTargets(parentNode, Array.isArray(originalTarget) ? originalTarget : [originalTarget]);\n    if (!markerMap[markerName]) {\n        markerMap[markerName] = new WeakMap();\n    }\n    var markerCounter = markerMap[markerName];\n    var hiddenNodes = [];\n    var elementsToKeep = new Set();\n    var elementsToStop = new Set(targets);\n    var keep = function (el) {\n        if (!el || elementsToKeep.has(el)) {\n            return;\n        }\n        elementsToKeep.add(el);\n        keep(el.parentNode);\n    };\n    targets.forEach(keep);\n    var deep = function (parent) {\n        if (!parent || elementsToStop.has(parent)) {\n            return;\n        }\n        Array.prototype.forEach.call(parent.children, function (node) {\n            if (elementsToKeep.has(node)) {\n                deep(node);\n            }\n            else {\n                try {\n                    var attr = node.getAttribute(controlAttribute);\n                    var alreadyHidden = attr !== null && attr !== 'false';\n                    var counterValue = (counterMap.get(node) || 0) + 1;\n                    var markerValue = (markerCounter.get(node) || 0) + 1;\n                    counterMap.set(node, counterValue);\n                    markerCounter.set(node, markerValue);\n                    hiddenNodes.push(node);\n                    if (counterValue === 1 && alreadyHidden) {\n                        uncontrolledNodes.set(node, true);\n                    }\n                    if (markerValue === 1) {\n                        node.setAttribute(markerName, 'true');\n                    }\n                    if (!alreadyHidden) {\n                        node.setAttribute(controlAttribute, 'true');\n                    }\n                }\n                catch (e) {\n                    console.error('aria-hidden: cannot operate on ', node, e);\n                }\n            }\n        });\n    };\n    deep(parentNode);\n    elementsToKeep.clear();\n    lockCount++;\n    return function () {\n        hiddenNodes.forEach(function (node) {\n            var counterValue = counterMap.get(node) - 1;\n            var markerValue = markerCounter.get(node) - 1;\n            counterMap.set(node, counterValue);\n            markerCounter.set(node, markerValue);\n            if (!counterValue) {\n                if (!uncontrolledNodes.has(node)) {\n                    node.removeAttribute(controlAttribute);\n                }\n                uncontrolledNodes.delete(node);\n            }\n            if (!markerValue) {\n                node.removeAttribute(markerName);\n            }\n        });\n        lockCount--;\n        if (!lockCount) {\n            // clear\n            counterMap = new WeakMap();\n            counterMap = new WeakMap();\n            uncontrolledNodes = new WeakMap();\n            markerMap = {};\n        }\n    };\n};\n/**\n * Marks everything except given node(or nodes) as aria-hidden\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @return {Undo} undo command\n */\nexport var hideOthers = function (originalTarget, parentNode, markerName) {\n    if (markerName === void 0) { markerName = 'data-aria-hidden'; }\n    var targets = Array.from(Array.isArray(originalTarget) ? originalTarget : [originalTarget]);\n    var activeParentNode = parentNode || getDefaultParent(originalTarget);\n    if (!activeParentNode) {\n        return function () { return null; };\n    }\n    // we should not hide aria-live elements - https://github.com/theKashey/aria-hidden/issues/10\n    // and script elements, as they have no impact on accessibility.\n    targets.push.apply(targets, Array.from(activeParentNode.querySelectorAll('[aria-live], script')));\n    return applyAttributeToOthers(targets, activeParentNode, markerName, 'aria-hidden');\n};\n/**\n * Marks everything except given node(or nodes) as inert\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @return {Undo} undo command\n */\nexport var inertOthers = function (originalTarget, parentNode, markerName) {\n    if (markerName === void 0) { markerName = 'data-inert-ed'; }\n    var activeParentNode = parentNode || getDefaultParent(originalTarget);\n    if (!activeParentNode) {\n        return function () { return null; };\n    }\n    return applyAttributeToOthers(originalTarget, activeParentNode, markerName, 'inert');\n};\n/**\n * @returns if current browser supports inert\n */\nexport var supportsInert = function () {\n    return typeof HTMLElement !== 'undefined' && HTMLElement.prototype.hasOwnProperty('inert');\n};\n/**\n * Automatic function to \"suppress\" DOM elements - _hide_ or _inert_ in the best possible way\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @return {Undo} undo command\n */\nexport var suppressOthers = function (originalTarget, parentNode, markerName) {\n    if (markerName === void 0) { markerName = 'data-suppressed'; }\n    return (supportsInert() ? inertOthers : hideOthers)(originalTarget, parentNode, markerName);\n};\n","'use client';\nimport { useState, useEffect } from 'react';\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nclass ModalManager {\n  constructor() {\n    __publicField(this, \"modals\");\n    this.modals = /* @__PURE__ */ new Set();\n  }\n  add(modal) {\n    this.modals.add(modal);\n    return this.modals.size;\n  }\n  remove(modal) {\n    this.modals.delete(modal);\n  }\n  isTopModal(modal) {\n    if (!modal)\n      return false;\n    const topModal = Array.from(this.modals)[this.modals.size - 1];\n    return modal === topModal;\n  }\n}\nconst modalManager = new ModalManager();\nfunction useModalManager(ref, isOpen) {\n  const [index, setIndex] = useState(0);\n  useEffect(() => {\n    const node = ref.current;\n    if (!node)\n      return;\n    if (isOpen) {\n      const index2 = modalManager.add(node);\n      setIndex(index2);\n    }\n    return () => {\n      modalManager.remove(node);\n      setIndex(0);\n    };\n  }, [isOpen, ref]);\n  return index;\n}\n\nexport { modalManager, useModalManager };\n","'use client';\nimport { mergeRefs } from '@chakra-ui/hooks';\nimport { callAllHandlers } from '@chakra-ui/utils';\nimport { hideOthers } from 'aria-hidden';\nimport { useRef, useCallback, useState, useEffect, useId, useMemo } from 'react';\nimport { useModalManager, modalManager } from './modal-manager.mjs';\n\nfunction useModal(props) {\n  const {\n    isOpen,\n    onClose,\n    id,\n    closeOnOverlayClick = true,\n    closeOnEsc = true,\n    useInert = true,\n    onOverlayClick: onOverlayClickProp,\n    onEsc\n  } = props;\n  const dialogRef = useRef(null);\n  const overlayRef = useRef(null);\n  const [dialogId, headerId, bodyId] = useIds(\n    id,\n    `chakra-modal`,\n    `chakra-modal--header`,\n    `chakra-modal--body`\n  );\n  useAriaHidden(dialogRef, isOpen && useInert);\n  const index = useModalManager(dialogRef, isOpen);\n  const mouseDownTarget = useRef(null);\n  const onMouseDown = useCallback((event) => {\n    mouseDownTarget.current = event.target;\n  }, []);\n  const onKeyDown = useCallback(\n    (event) => {\n      if (event.key === \"Escape\") {\n        event.stopPropagation();\n        if (closeOnEsc) {\n          onClose?.();\n        }\n        onEsc?.();\n      }\n    },\n    [closeOnEsc, onClose, onEsc]\n  );\n  const [headerMounted, setHeaderMounted] = useState(false);\n  const [bodyMounted, setBodyMounted] = useState(false);\n  const getDialogProps = useCallback(\n    (props2 = {}, ref = null) => ({\n      role: \"dialog\",\n      ...props2,\n      ref: mergeRefs(ref, dialogRef),\n      id: dialogId,\n      tabIndex: -1,\n      \"aria-modal\": true,\n      \"aria-labelledby\": headerMounted ? headerId : void 0,\n      \"aria-describedby\": bodyMounted ? bodyId : void 0,\n      onClick: callAllHandlers(\n        props2.onClick,\n        (event) => event.stopPropagation()\n      )\n    }),\n    [bodyId, bodyMounted, dialogId, headerId, headerMounted]\n  );\n  const onOverlayClick = useCallback(\n    (event) => {\n      event.stopPropagation();\n      if (mouseDownTarget.current !== event.target)\n        return;\n      if (!modalManager.isTopModal(dialogRef.current))\n        return;\n      if (closeOnOverlayClick) {\n        onClose?.();\n      }\n      onOverlayClickProp?.();\n    },\n    [onClose, closeOnOverlayClick, onOverlayClickProp]\n  );\n  const getDialogContainerProps = useCallback(\n    (props2 = {}, ref = null) => ({\n      ...props2,\n      ref: mergeRefs(ref, overlayRef),\n      onClick: callAllHandlers(props2.onClick, onOverlayClick),\n      onKeyDown: callAllHandlers(props2.onKeyDown, onKeyDown),\n      onMouseDown: callAllHandlers(props2.onMouseDown, onMouseDown)\n    }),\n    [onKeyDown, onMouseDown, onOverlayClick]\n  );\n  return {\n    isOpen,\n    onClose,\n    headerId,\n    bodyId,\n    setBodyMounted,\n    setHeaderMounted,\n    dialogRef,\n    overlayRef,\n    getDialogProps,\n    getDialogContainerProps,\n    index\n  };\n}\nfunction useAriaHidden(ref, shouldHide) {\n  const currentElement = ref.current;\n  useEffect(() => {\n    if (!ref.current || !shouldHide)\n      return void 0;\n    return hideOthers(ref.current);\n  }, [shouldHide, ref, currentElement]);\n}\nfunction useIds(idProp, ...prefixes) {\n  const reactId = useId();\n  const id = idProp || reactId;\n  return useMemo(() => {\n    return prefixes.map((prefix) => `${prefix}-${id}`);\n  }, [id, prefixes]);\n}\n\nexport { useAriaHidden, useModal };\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { createContext } from '@chakra-ui/utils';\nimport { AnimatePresence } from 'framer-motion';\nimport { useModal } from './use-modal.mjs';\nimport { Portal } from '../portal/portal.mjs';\nimport { useMultiStyleConfig } from '../system/use-style-config.mjs';\n\nconst [ModalStylesProvider, useModalStyles] = createContext({\n  name: `ModalStylesContext`,\n  errorMessage: `useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Modal />\" `\n});\nconst [ModalContextProvider, useModalContext] = createContext({\n  strict: true,\n  name: \"ModalContext\",\n  errorMessage: \"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`\"\n});\nconst Modal = (props) => {\n  const modalProps = {\n    scrollBehavior: \"outside\",\n    autoFocus: true,\n    trapFocus: true,\n    returnFocusOnClose: true,\n    blockScrollOnMount: true,\n    allowPinchZoom: false,\n    preserveScrollBarGap: true,\n    motionPreset: \"scale\",\n    ...props,\n    lockFocusAcrossFrames: props.lockFocusAcrossFrames ?? true\n  };\n  const {\n    portalProps,\n    children,\n    autoFocus,\n    trapFocus,\n    initialFocusRef,\n    finalFocusRef,\n    returnFocusOnClose,\n    blockScrollOnMount,\n    allowPinchZoom,\n    preserveScrollBarGap,\n    motionPreset,\n    lockFocusAcrossFrames,\n    animatePresenceProps,\n    onCloseComplete\n  } = modalProps;\n  const styles = useMultiStyleConfig(\"Modal\", modalProps);\n  const modal = useModal(modalProps);\n  const context = {\n    ...modal,\n    autoFocus,\n    trapFocus,\n    initialFocusRef,\n    finalFocusRef,\n    returnFocusOnClose,\n    blockScrollOnMount,\n    allowPinchZoom,\n    preserveScrollBarGap,\n    motionPreset,\n    lockFocusAcrossFrames\n  };\n  return /* @__PURE__ */ jsx(ModalContextProvider, { value: context, children: /* @__PURE__ */ jsx(ModalStylesProvider, { value: styles, children: /* @__PURE__ */ jsx(\n    AnimatePresence,\n    {\n      ...animatePresenceProps,\n      onExitComplete: onCloseComplete,\n      children: context.isOpen && /* @__PURE__ */ jsx(Portal, { ...portalProps, children })\n    }\n  ) }) });\n};\nModal.displayName = \"Modal\";\n\nexport { Modal, ModalContextProvider, useModalContext, useModalStyles };\n","export var zeroRightClassName = 'right-scroll-bar-position';\nexport var fullWidthClassName = 'width-before-scroll-bar';\nexport var noScrollbarsClassName = 'with-scroll-bars-hidden';\n/**\n * Name of a CSS variable containing the amount of \"hidden\" scrollbar\n * ! might be undefined ! use will fallback!\n */\nexport var removedBarSizeVariable = '--removed-body-scroll-bar-size';\n","import { createSidecarMedium } from 'use-sidecar';\nexport var effectCar = createSidecarMedium();\n","import { __assign, __rest } from \"tslib\";\nimport * as React from 'react';\nimport { fullWidthClassName, zeroRightClassName } from 'react-remove-scroll-bar/constants';\nimport { useMergeRefs } from 'use-callback-ref';\nimport { effectCar } from './medium';\nvar nothing = function () {\n    return;\n};\n/**\n * Removes scrollbar from the page and contain the scroll within the Lock\n */\nvar RemoveScroll = React.forwardRef(function (props, parentRef) {\n    var ref = React.useRef(null);\n    var _a = React.useState({\n        onScrollCapture: nothing,\n        onWheelCapture: nothing,\n        onTouchMoveCapture: nothing,\n    }), callbacks = _a[0], setCallbacks = _a[1];\n    var forwardProps = props.forwardProps, children = props.children, className = props.className, removeScrollBar = props.removeScrollBar, enabled = props.enabled, shards = props.shards, sideCar = props.sideCar, noRelative = props.noRelative, noIsolation = props.noIsolation, inert = props.inert, allowPinchZoom = props.allowPinchZoom, _b = props.as, Container = _b === void 0 ? 'div' : _b, gapMode = props.gapMode, rest = __rest(props, [\"forwardProps\", \"children\", \"className\", \"removeScrollBar\", \"enabled\", \"shards\", \"sideCar\", \"noRelative\", \"noIsolation\", \"inert\", \"allowPinchZoom\", \"as\", \"gapMode\"]);\n    var SideCar = sideCar;\n    var containerRef = useMergeRefs([ref, parentRef]);\n    var containerProps = __assign(__assign({}, rest), callbacks);\n    return (React.createElement(React.Fragment, null,\n        enabled && (React.createElement(SideCar, { sideCar: effectCar, removeScrollBar: removeScrollBar, shards: shards, noRelative: noRelative, noIsolation: noIsolation, inert: inert, setCallbacks: setCallbacks, allowPinchZoom: !!allowPinchZoom, lockRef: ref, gapMode: gapMode })),\n        forwardProps ? (React.cloneElement(React.Children.only(children), __assign(__assign({}, containerProps), { ref: containerRef }))) : (React.createElement(Container, __assign({}, containerProps, { className: className, ref: containerRef }), children))));\n});\nRemoveScroll.defaultProps = {\n    enabled: true,\n    removeScrollBar: true,\n    inert: false,\n};\nRemoveScroll.classNames = {\n    fullWidth: fullWidthClassName,\n    zeroRight: zeroRightClassName,\n};\nexport { RemoveScroll };\n","var currentNonce;\nexport var setNonce = function (nonce) {\n    currentNonce = nonce;\n};\nexport var getNonce = function () {\n    if (currentNonce) {\n        return currentNonce;\n    }\n    if (typeof __webpack_nonce__ !== 'undefined') {\n        return __webpack_nonce__;\n    }\n    return undefined;\n};\n","import { getNonce } from 'get-nonce';\nfunction makeStyleTag() {\n    if (!document)\n        return null;\n    var tag = document.createElement('style');\n    tag.type = 'text/css';\n    var nonce = getNonce();\n    if (nonce) {\n        tag.setAttribute('nonce', nonce);\n    }\n    return tag;\n}\nfunction injectStyles(tag, css) {\n    // @ts-ignore\n    if (tag.styleSheet) {\n        // @ts-ignore\n        tag.styleSheet.cssText = css;\n    }\n    else {\n        tag.appendChild(document.createTextNode(css));\n    }\n}\nfunction insertStyleTag(tag) {\n    var head = document.head || document.getElementsByTagName('head')[0];\n    head.appendChild(tag);\n}\nexport var stylesheetSingleton = function () {\n    var counter = 0;\n    var stylesheet = null;\n    return {\n        add: function (style) {\n            if (counter == 0) {\n                if ((stylesheet = makeStyleTag())) {\n                    injectStyles(stylesheet, style);\n                    insertStyleTag(stylesheet);\n                }\n            }\n            counter++;\n        },\n        remove: function () {\n            counter--;\n            if (!counter && stylesheet) {\n                stylesheet.parentNode && stylesheet.parentNode.removeChild(stylesheet);\n                stylesheet = null;\n            }\n        },\n    };\n};\n","import * as React from 'react';\nimport { stylesheetSingleton } from './singleton';\n/**\n * creates a hook to control style singleton\n * @see {@link styleSingleton} for a safer component version\n * @example\n * ```tsx\n * const useStyle = styleHookSingleton();\n * ///\n * useStyle('body { overflow: hidden}');\n */\nexport var styleHookSingleton = function () {\n    var sheet = stylesheetSingleton();\n    return function (styles, isDynamic) {\n        React.useEffect(function () {\n            sheet.add(styles);\n            return function () {\n                sheet.remove();\n            };\n        }, [styles && isDynamic]);\n    };\n};\n","import { styleHookSingleton } from './hook';\n/**\n * create a Component to add styles on demand\n * - styles are added when first instance is mounted\n * - styles are removed when the last instance is unmounted\n * - changing styles in runtime does nothing unless dynamic is set. But with multiple components that can lead to the undefined behavior\n */\nexport var styleSingleton = function () {\n    var useStyle = styleHookSingleton();\n    var Sheet = function (_a) {\n        var styles = _a.styles, dynamic = _a.dynamic;\n        useStyle(styles, dynamic);\n        return null;\n    };\n    return Sheet;\n};\n","export var zeroGap = {\n    left: 0,\n    top: 0,\n    right: 0,\n    gap: 0,\n};\nvar parse = function (x) { return parseInt(x || '', 10) || 0; };\nvar getOffset = function (gapMode) {\n    var cs = window.getComputedStyle(document.body);\n    var left = cs[gapMode === 'padding' ? 'paddingLeft' : 'marginLeft'];\n    var top = cs[gapMode === 'padding' ? 'paddingTop' : 'marginTop'];\n    var right = cs[gapMode === 'padding' ? 'paddingRight' : 'marginRight'];\n    return [parse(left), parse(top), parse(right)];\n};\nexport var getGapWidth = function (gapMode) {\n    if (gapMode === void 0) { gapMode = 'margin'; }\n    if (typeof window === 'undefined') {\n        return zeroGap;\n    }\n    var offsets = getOffset(gapMode);\n    var documentWidth = document.documentElement.clientWidth;\n    var windowWidth = window.innerWidth;\n    return {\n        left: offsets[0],\n        top: offsets[1],\n        right: offsets[2],\n        gap: Math.max(0, windowWidth - documentWidth + offsets[2] - offsets[0]),\n    };\n};\n","import * as React from 'react';\nimport { styleSingleton } from 'react-style-singleton';\nimport { fullWidthClassName, zeroRightClassName, noScrollbarsClassName, removedBarSizeVariable } from './constants';\nimport { getGapWidth } from './utils';\nvar Style = styleSingleton();\nexport var lockAttribute = 'data-scroll-locked';\n// important tip - once we measure scrollBar width and remove them\n// we could not repeat this operation\n// thus we are using style-singleton - only the first \"yet correct\" style will be applied.\nvar getStyles = function (_a, allowRelative, gapMode, important) {\n    var left = _a.left, top = _a.top, right = _a.right, gap = _a.gap;\n    if (gapMode === void 0) { gapMode = 'margin'; }\n    return \"\\n  .\".concat(noScrollbarsClassName, \" {\\n   overflow: hidden \").concat(important, \";\\n   padding-right: \").concat(gap, \"px \").concat(important, \";\\n  }\\n  body[\").concat(lockAttribute, \"] {\\n    overflow: hidden \").concat(important, \";\\n    overscroll-behavior: contain;\\n    \").concat([\n        allowRelative && \"position: relative \".concat(important, \";\"),\n        gapMode === 'margin' &&\n            \"\\n    padding-left: \".concat(left, \"px;\\n    padding-top: \").concat(top, \"px;\\n    padding-right: \").concat(right, \"px;\\n    margin-left:0;\\n    margin-top:0;\\n    margin-right: \").concat(gap, \"px \").concat(important, \";\\n    \"),\n        gapMode === 'padding' && \"padding-right: \".concat(gap, \"px \").concat(important, \";\"),\n    ]\n        .filter(Boolean)\n        .join(''), \"\\n  }\\n  \\n  .\").concat(zeroRightClassName, \" {\\n    right: \").concat(gap, \"px \").concat(important, \";\\n  }\\n  \\n  .\").concat(fullWidthClassName, \" {\\n    margin-right: \").concat(gap, \"px \").concat(important, \";\\n  }\\n  \\n  .\").concat(zeroRightClassName, \" .\").concat(zeroRightClassName, \" {\\n    right: 0 \").concat(important, \";\\n  }\\n  \\n  .\").concat(fullWidthClassName, \" .\").concat(fullWidthClassName, \" {\\n    margin-right: 0 \").concat(important, \";\\n  }\\n  \\n  body[\").concat(lockAttribute, \"] {\\n    \").concat(removedBarSizeVariable, \": \").concat(gap, \"px;\\n  }\\n\");\n};\nvar getCurrentUseCounter = function () {\n    var counter = parseInt(document.body.getAttribute(lockAttribute) || '0', 10);\n    return isFinite(counter) ? counter : 0;\n};\nexport var useLockAttribute = function () {\n    React.useEffect(function () {\n        document.body.setAttribute(lockAttribute, (getCurrentUseCounter() + 1).toString());\n        return function () {\n            var newCounter = getCurrentUseCounter() - 1;\n            if (newCounter <= 0) {\n                document.body.removeAttribute(lockAttribute);\n            }\n            else {\n                document.body.setAttribute(lockAttribute, newCounter.toString());\n            }\n        };\n    }, []);\n};\n/**\n * Removes page scrollbar and blocks page scroll when mounted\n */\nexport var RemoveScrollBar = function (_a) {\n    var noRelative = _a.noRelative, noImportant = _a.noImportant, _b = _a.gapMode, gapMode = _b === void 0 ? 'margin' : _b;\n    useLockAttribute();\n    /*\n     gap will be measured on every component mount\n     however it will be used only by the \"first\" invocation\n     due to singleton nature of <Style\n     */\n    var gap = React.useMemo(function () { return getGapWidth(gapMode); }, [gapMode]);\n    return React.createElement(Style, { styles: getStyles(gap, !noRelative, gapMode, !noImportant ? '!important' : '') });\n};\n","var passiveSupported = false;\nif (typeof window !== 'undefined') {\n    try {\n        var options = Object.defineProperty({}, 'passive', {\n            get: function () {\n                passiveSupported = true;\n                return true;\n            },\n        });\n        // @ts-ignore\n        window.addEventListener('test', options, options);\n        // @ts-ignore\n        window.removeEventListener('test', options, options);\n    }\n    catch (err) {\n        passiveSupported = false;\n    }\n}\nexport var nonPassive = passiveSupported ? { passive: false } : false;\n","var alwaysContainsScroll = function (node) {\n    // textarea will always _contain_ scroll inside self. It only can be hidden\n    return node.tagName === 'TEXTAREA';\n};\nvar elementCanBeScrolled = function (node, overflow) {\n    if (!(node instanceof Element)) {\n        return false;\n    }\n    var styles = window.getComputedStyle(node);\n    return (\n    // not-not-scrollable\n    styles[overflow] !== 'hidden' &&\n        // contains scroll inside self\n        !(styles.overflowY === styles.overflowX && !alwaysContainsScroll(node) && styles[overflow] === 'visible'));\n};\nvar elementCouldBeVScrolled = function (node) { return elementCanBeScrolled(node, 'overflowY'); };\nvar elementCouldBeHScrolled = function (node) { return elementCanBeScrolled(node, 'overflowX'); };\nexport var locationCouldBeScrolled = function (axis, node) {\n    var ownerDocument = node.ownerDocument;\n    var current = node;\n    do {\n        // Skip over shadow root\n        if (typeof ShadowRoot !== 'undefined' && current instanceof ShadowRoot) {\n            current = current.host;\n        }\n        var isScrollable = elementCouldBeScrolled(axis, current);\n        if (isScrollable) {\n            var _a = getScrollVariables(axis, current), scrollHeight = _a[1], clientHeight = _a[2];\n            if (scrollHeight > clientHeight) {\n                return true;\n            }\n        }\n        current = current.parentNode;\n    } while (current && current !== ownerDocument.body);\n    return false;\n};\nvar getVScrollVariables = function (_a) {\n    var scrollTop = _a.scrollTop, scrollHeight = _a.scrollHeight, clientHeight = _a.clientHeight;\n    return [\n        scrollTop,\n        scrollHeight,\n        clientHeight,\n    ];\n};\nvar getHScrollVariables = function (_a) {\n    var scrollLeft = _a.scrollLeft, scrollWidth = _a.scrollWidth, clientWidth = _a.clientWidth;\n    return [\n        scrollLeft,\n        scrollWidth,\n        clientWidth,\n    ];\n};\nvar elementCouldBeScrolled = function (axis, node) {\n    return axis === 'v' ? elementCouldBeVScrolled(node) : elementCouldBeHScrolled(node);\n};\nvar getScrollVariables = function (axis, node) {\n    return axis === 'v' ? getVScrollVariables(node) : getHScrollVariables(node);\n};\nvar getDirectionFactor = function (axis, direction) {\n    /**\n     * If the element's direction is rtl (right-to-left), then scrollLeft is 0 when the scrollbar is at its rightmost position,\n     * and then increasingly negative as you scroll towards the end of the content.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollLeft\n     */\n    return axis === 'h' && direction === 'rtl' ? -1 : 1;\n};\nexport var handleScroll = function (axis, endTarget, event, sourceDelta, noOverscroll) {\n    var directionFactor = getDirectionFactor(axis, window.getComputedStyle(endTarget).direction);\n    var delta = directionFactor * sourceDelta;\n    // find scrollable target\n    var target = event.target;\n    var targetInLock = endTarget.contains(target);\n    var shouldCancelScroll = false;\n    var isDeltaPositive = delta > 0;\n    var availableScroll = 0;\n    var availableScrollTop = 0;\n    do {\n        if (!target) {\n            break;\n        }\n        var _a = getScrollVariables(axis, target), position = _a[0], scroll_1 = _a[1], capacity = _a[2];\n        var elementScroll = scroll_1 - capacity - directionFactor * position;\n        if (position || elementScroll) {\n            if (elementCouldBeScrolled(axis, target)) {\n                availableScroll += elementScroll;\n                availableScrollTop += position;\n            }\n        }\n        var parent_1 = target.parentNode;\n        // we will \"bubble\" from ShadowDom in case we are, or just to the parent in normal case\n        // this is the same logic used in focus-lock\n        target = (parent_1 && parent_1.nodeType === Node.DOCUMENT_FRAGMENT_NODE ? parent_1.host : parent_1);\n    } while (\n    // portaled content\n    (!targetInLock && target !== document.body) ||\n        // self content\n        (targetInLock && (endTarget.contains(target) || endTarget === target)));\n    // handle epsilon around 0 (non standard zoom levels)\n    if (isDeltaPositive &&\n        ((noOverscroll && Math.abs(availableScroll) < 1) || (!noOverscroll && delta > availableScroll))) {\n        shouldCancelScroll = true;\n    }\n    else if (!isDeltaPositive &&\n        ((noOverscroll && Math.abs(availableScrollTop) < 1) || (!noOverscroll && -delta > availableScrollTop))) {\n        shouldCancelScroll = true;\n    }\n    return shouldCancelScroll;\n};\n","import { __spreadArray } from \"tslib\";\nimport * as React from 'react';\nimport { RemoveScrollBar } from 'react-remove-scroll-bar';\nimport { styleSingleton } from 'react-style-singleton';\nimport { nonPassive } from './aggresiveCapture';\nimport { handleScroll, locationCouldBeScrolled } from './handleScroll';\nexport var getTouchXY = function (event) {\n    return 'changedTouches' in event ? [event.changedTouches[0].clientX, event.changedTouches[0].clientY] : [0, 0];\n};\nexport var getDeltaXY = function (event) { return [event.deltaX, event.deltaY]; };\nvar extractRef = function (ref) {\n    return ref && 'current' in ref ? ref.current : ref;\n};\nvar deltaCompare = function (x, y) { return x[0] === y[0] && x[1] === y[1]; };\nvar generateStyle = function (id) { return \"\\n  .block-interactivity-\".concat(id, \" {pointer-events: none;}\\n  .allow-interactivity-\").concat(id, \" {pointer-events: all;}\\n\"); };\nvar idCounter = 0;\nvar lockStack = [];\nexport function RemoveScrollSideCar(props) {\n    var shouldPreventQueue = React.useRef([]);\n    var touchStartRef = React.useRef([0, 0]);\n    var activeAxis = React.useRef();\n    var id = React.useState(idCounter++)[0];\n    var Style = React.useState(styleSingleton)[0];\n    var lastProps = React.useRef(props);\n    React.useEffect(function () {\n        lastProps.current = props;\n    }, [props]);\n    React.useEffect(function () {\n        if (props.inert) {\n            document.body.classList.add(\"block-interactivity-\".concat(id));\n            var allow_1 = __spreadArray([props.lockRef.current], (props.shards || []).map(extractRef), true).filter(Boolean);\n            allow_1.forEach(function (el) { return el.classList.add(\"allow-interactivity-\".concat(id)); });\n            return function () {\n                document.body.classList.remove(\"block-interactivity-\".concat(id));\n                allow_1.forEach(function (el) { return el.classList.remove(\"allow-interactivity-\".concat(id)); });\n            };\n        }\n        return;\n    }, [props.inert, props.lockRef.current, props.shards]);\n    var shouldCancelEvent = React.useCallback(function (event, parent) {\n        if (('touches' in event && event.touches.length === 2) || (event.type === 'wheel' && event.ctrlKey)) {\n            return !lastProps.current.allowPinchZoom;\n        }\n        var touch = getTouchXY(event);\n        var touchStart = touchStartRef.current;\n        var deltaX = 'deltaX' in event ? event.deltaX : touchStart[0] - touch[0];\n        var deltaY = 'deltaY' in event ? event.deltaY : touchStart[1] - touch[1];\n        var currentAxis;\n        var target = event.target;\n        var moveDirection = Math.abs(deltaX) > Math.abs(deltaY) ? 'h' : 'v';\n        // allow horizontal touch move on Range inputs. They will not cause any scroll\n        if ('touches' in event && moveDirection === 'h' && target.type === 'range') {\n            return false;\n        }\n        var canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target);\n        if (!canBeScrolledInMainDirection) {\n            return true;\n        }\n        if (canBeScrolledInMainDirection) {\n            currentAxis = moveDirection;\n        }\n        else {\n            currentAxis = moveDirection === 'v' ? 'h' : 'v';\n            canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target);\n            // other axis might be not scrollable\n        }\n        if (!canBeScrolledInMainDirection) {\n            return false;\n        }\n        if (!activeAxis.current && 'changedTouches' in event && (deltaX || deltaY)) {\n            activeAxis.current = currentAxis;\n        }\n        if (!currentAxis) {\n            return true;\n        }\n        var cancelingAxis = activeAxis.current || currentAxis;\n        return handleScroll(cancelingAxis, parent, event, cancelingAxis === 'h' ? deltaX : deltaY, true);\n    }, []);\n    var shouldPrevent = React.useCallback(function (_event) {\n        var event = _event;\n        if (!lockStack.length || lockStack[lockStack.length - 1] !== Style) {\n            // not the last active\n            return;\n        }\n        var delta = 'deltaY' in event ? getDeltaXY(event) : getTouchXY(event);\n        var sourceEvent = shouldPreventQueue.current.filter(function (e) { return e.name === event.type && (e.target === event.target || event.target === e.shadowParent) && deltaCompare(e.delta, delta); })[0];\n        // self event, and should be canceled\n        if (sourceEvent && sourceEvent.should) {\n            if (event.cancelable) {\n                event.preventDefault();\n            }\n            return;\n        }\n        // outside or shard event\n        if (!sourceEvent) {\n            var shardNodes = (lastProps.current.shards || [])\n                .map(extractRef)\n                .filter(Boolean)\n                .filter(function (node) { return node.contains(event.target); });\n            var shouldStop = shardNodes.length > 0 ? shouldCancelEvent(event, shardNodes[0]) : !lastProps.current.noIsolation;\n            if (shouldStop) {\n                if (event.cancelable) {\n                    event.preventDefault();\n                }\n            }\n        }\n    }, []);\n    var shouldCancel = React.useCallback(function (name, delta, target, should) {\n        var event = { name: name, delta: delta, target: target, should: should, shadowParent: getOutermostShadowParent(target) };\n        shouldPreventQueue.current.push(event);\n        setTimeout(function () {\n            shouldPreventQueue.current = shouldPreventQueue.current.filter(function (e) { return e !== event; });\n        }, 1);\n    }, []);\n    var scrollTouchStart = React.useCallback(function (event) {\n        touchStartRef.current = getTouchXY(event);\n        activeAxis.current = undefined;\n    }, []);\n    var scrollWheel = React.useCallback(function (event) {\n        shouldCancel(event.type, getDeltaXY(event), event.target, shouldCancelEvent(event, props.lockRef.current));\n    }, []);\n    var scrollTouchMove = React.useCallback(function (event) {\n        shouldCancel(event.type, getTouchXY(event), event.target, shouldCancelEvent(event, props.lockRef.current));\n    }, []);\n    React.useEffect(function () {\n        lockStack.push(Style);\n        props.setCallbacks({\n            onScrollCapture: scrollWheel,\n            onWheelCapture: scrollWheel,\n            onTouchMoveCapture: scrollTouchMove,\n        });\n        document.addEventListener('wheel', shouldPrevent, nonPassive);\n        document.addEventListener('touchmove', shouldPrevent, nonPassive);\n        document.addEventListener('touchstart', scrollTouchStart, nonPassive);\n        return function () {\n            lockStack = lockStack.filter(function (inst) { return inst !== Style; });\n            document.removeEventListener('wheel', shouldPrevent, nonPassive);\n            document.removeEventListener('touchmove', shouldPrevent, nonPassive);\n            document.removeEventListener('touchstart', scrollTouchStart, nonPassive);\n        };\n    }, []);\n    var removeScrollBar = props.removeScrollBar, inert = props.inert;\n    return (React.createElement(React.Fragment, null,\n        inert ? React.createElement(Style, { styles: generateStyle(id) }) : null,\n        removeScrollBar ? React.createElement(RemoveScrollBar, { noRelative: props.noRelative, gapMode: props.gapMode }) : null));\n}\nfunction getOutermostShadowParent(node) {\n    var shadowParent = null;\n    while (node !== null) {\n        if (node instanceof ShadowRoot) {\n            shadowParent = node.host;\n            node = node.host;\n        }\n        node = node.parentNode;\n    }\n    return shadowParent;\n}\n","import { exportSidecar } from 'use-sidecar';\nimport { RemoveScrollSideCar } from './SideEffect';\nimport { effectCar } from './medium';\nexport default exportSidecar(effectCar, RemoveScrollSideCar);\n","import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { RemoveScroll } from './UI';\nimport SideCar from './sidecar';\nvar ReactRemoveScroll = React.forwardRef(function (props, ref) { return (React.createElement(RemoveScroll, __assign({}, props, { ref: ref, sideCar: SideCar }))); });\nReactRemoveScroll.classNames = RemoveScroll.classNames;\nexport default ReactRemoveScroll;\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { usePresence } from 'framer-motion';\nimport { useEffect } from 'react';\nimport { RemoveScroll } from 'react-remove-scroll';\nimport { useModalContext } from './modal.mjs';\nimport { useModalManager } from './modal-manager.mjs';\nimport { FocusLock } from '../focus-lock/focus-lock.mjs';\n\nfunction ModalFocusScope(props) {\n  const {\n    autoFocus,\n    trapFocus,\n    dialogRef,\n    initialFocusRef,\n    blockScrollOnMount,\n    allowPinchZoom,\n    finalFocusRef,\n    returnFocusOnClose,\n    preserveScrollBarGap,\n    lockFocusAcrossFrames,\n    isOpen\n  } = useModalContext();\n  const [isPresent, safeToRemove] = usePresence();\n  useEffect(() => {\n    if (!isPresent && safeToRemove) {\n      setTimeout(safeToRemove);\n    }\n  }, [isPresent, safeToRemove]);\n  const index = useModalManager(dialogRef, isOpen);\n  return /* @__PURE__ */ jsx(\n    FocusLock,\n    {\n      autoFocus,\n      isDisabled: !trapFocus,\n      initialFocusRef,\n      finalFocusRef,\n      restoreFocus: returnFocusOnClose,\n      contentRef: dialogRef,\n      lockFocusAcrossFrames,\n      children: /* @__PURE__ */ jsx(\n        RemoveScroll,\n        {\n          removeScrollBar: !preserveScrollBarGap,\n          allowPinchZoom,\n          enabled: index === 1 && blockScrollOnMount,\n          forwardProps: true,\n          children: props.children\n        }\n      )\n    }\n  );\n}\n\nexport { ModalFocusScope };\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { cx } from '@chakra-ui/utils';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { forwardRef } from 'react';\nimport { withDelay, TRANSITION_DEFAULTS } from './transition-utils.mjs';\n\nconst variants = {\n  initial: ({ offsetX, offsetY, transition, transitionEnd, delay }) => ({\n    opacity: 0,\n    x: offsetX,\n    y: offsetY,\n    transition: transition?.exit ?? withDelay.exit(TRANSITION_DEFAULTS.exit, delay),\n    transitionEnd: transitionEnd?.exit\n  }),\n  enter: ({ transition, transitionEnd, delay }) => ({\n    opacity: 1,\n    x: 0,\n    y: 0,\n    transition: transition?.enter ?? withDelay.enter(TRANSITION_DEFAULTS.enter, delay),\n    transitionEnd: transitionEnd?.enter\n  }),\n  exit: ({ offsetY, offsetX, transition, transitionEnd, reverse, delay }) => {\n    const offset = { x: offsetX, y: offsetY };\n    return {\n      opacity: 0,\n      transition: transition?.exit ?? withDelay.exit(TRANSITION_DEFAULTS.exit, delay),\n      ...reverse ? { ...offset, transitionEnd: transitionEnd?.exit } : { transitionEnd: { ...offset, ...transitionEnd?.exit } }\n    };\n  }\n};\nconst slideFadeConfig = {\n  initial: \"initial\",\n  animate: \"enter\",\n  exit: \"exit\",\n  variants\n};\nconst SlideFade = forwardRef(\n  function SlideFade2(props, ref) {\n    const {\n      unmountOnExit,\n      in: isOpen,\n      reverse = true,\n      className,\n      offsetX = 0,\n      offsetY = 8,\n      transition,\n      transitionEnd,\n      delay,\n      animatePresenceProps,\n      ...rest\n    } = props;\n    const show = unmountOnExit ? isOpen && unmountOnExit : true;\n    const animate = isOpen || unmountOnExit ? \"enter\" : \"exit\";\n    const custom = {\n      offsetX,\n      offsetY,\n      reverse,\n      transition,\n      transitionEnd,\n      delay\n    };\n    return /* @__PURE__ */ jsx(AnimatePresence, { ...animatePresenceProps, custom, children: show && /* @__PURE__ */ jsx(\n      motion.div,\n      {\n        ref,\n        className: cx(\"chakra-offset-slide\", className),\n        custom,\n        ...slideFadeConfig,\n        animate,\n        ...rest\n      }\n    ) });\n  }\n);\nSlideFade.displayName = \"SlideFade\";\n\nexport { SlideFade, slideFadeConfig };\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { cx } from '@chakra-ui/utils';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { forwardRef } from 'react';\nimport { withDelay, TRANSITION_DEFAULTS } from './transition-utils.mjs';\n\nconst variants = {\n  exit: ({ reverse, initialScale, transition, transitionEnd, delay }) => ({\n    opacity: 0,\n    ...reverse ? { scale: initialScale, transitionEnd: transitionEnd?.exit } : { transitionEnd: { scale: initialScale, ...transitionEnd?.exit } },\n    transition: transition?.exit ?? withDelay.exit(TRANSITION_DEFAULTS.exit, delay)\n  }),\n  enter: ({ transitionEnd, transition, delay }) => ({\n    opacity: 1,\n    scale: 1,\n    transition: transition?.enter ?? withDelay.enter(TRANSITION_DEFAULTS.enter, delay),\n    transitionEnd: transitionEnd?.enter\n  })\n};\nconst scaleFadeConfig = {\n  initial: \"exit\",\n  animate: \"enter\",\n  exit: \"exit\",\n  variants\n};\nconst ScaleFade = forwardRef(\n  function ScaleFade2(props, ref) {\n    const {\n      unmountOnExit,\n      in: isOpen,\n      reverse = true,\n      initialScale = 0.95,\n      className,\n      transition,\n      transitionEnd,\n      delay,\n      animatePresenceProps,\n      ...rest\n    } = props;\n    const show = unmountOnExit ? isOpen && unmountOnExit : true;\n    const animate = isOpen || unmountOnExit ? \"enter\" : \"exit\";\n    const custom = { initialScale, reverse, transition, transitionEnd, delay };\n    return /* @__PURE__ */ jsx(AnimatePresence, { ...animatePresenceProps, custom, children: show && /* @__PURE__ */ jsx(\n      motion.div,\n      {\n        ref,\n        className: cx(\"chakra-offset-slide\", className),\n        ...scaleFadeConfig,\n        animate,\n        custom,\n        ...rest\n      }\n    ) });\n  }\n);\nScaleFade.displayName = \"ScaleFade\";\n\nexport { ScaleFade, scaleFadeConfig };\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { motion } from 'framer-motion';\nimport { forwardRef } from 'react';\nimport { slideFadeConfig } from '../transition/slide-fade.mjs';\nimport { scaleFadeConfig } from '../transition/scale-fade.mjs';\nimport { chakra } from '../system/factory.mjs';\n\nconst transitions = {\n  slideInBottom: {\n    ...slideFadeConfig,\n    custom: { offsetY: 16, reverse: true }\n  },\n  slideInRight: {\n    ...slideFadeConfig,\n    custom: { offsetX: 16, reverse: true }\n  },\n  slideInTop: {\n    ...slideFadeConfig,\n    custom: { offsetY: -16, reverse: true }\n  },\n  slideInLeft: {\n    ...slideFadeConfig,\n    custom: { offsetX: -16, reverse: true }\n  },\n  scale: {\n    ...scaleFadeConfig,\n    custom: { initialScale: 0.95, reverse: true }\n  },\n  none: {}\n};\nconst MotionSection = chakra(motion.section);\nconst getMotionProps = (preset) => {\n  return transitions[preset || \"none\"];\n};\nconst ModalTransition = forwardRef(\n  (props, ref) => {\n    const { preset, motionProps = getMotionProps(preset), ...rest } = props;\n    return /* @__PURE__ */ jsx(MotionSection, { ref, ...motionProps, ...rest });\n  }\n);\nModalTransition.displayName = \"ModalTransition\";\n\nexport { ModalTransition };\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { defineStyle } from '@chakra-ui/styled-system';\nimport { cx } from '@chakra-ui/utils';\nimport { useModalContext, useModalStyles } from './modal.mjs';\nimport { ModalFocusScope } from './modal-focus.mjs';\nimport { ModalTransition } from './modal-transition.mjs';\nimport { forwardRef } from '../system/forward-ref.mjs';\nimport { chakra } from '../system/factory.mjs';\n\nconst ModalContent = forwardRef(\n  (props, ref) => {\n    const {\n      className,\n      children,\n      containerProps: rootProps,\n      motionProps,\n      ...rest\n    } = props;\n    const { getDialogProps, getDialogContainerProps } = useModalContext();\n    const dialogProps = getDialogProps(rest, ref);\n    const containerProps = getDialogContainerProps(rootProps);\n    const _className = cx(\"chakra-modal__content\", className);\n    const styles = useModalStyles();\n    const dialogStyles = defineStyle({\n      display: \"flex\",\n      flexDirection: \"column\",\n      position: \"relative\",\n      width: \"100%\",\n      outline: 0,\n      ...styles.dialog\n    });\n    const dialogContainerStyles = defineStyle({\n      display: \"flex\",\n      width: \"100vw\",\n      height: \"$100vh\",\n      position: \"fixed\",\n      left: 0,\n      top: 0,\n      ...styles.dialogContainer\n    });\n    const { motionPreset } = useModalContext();\n    return /* @__PURE__ */ jsx(ModalFocusScope, { children: /* @__PURE__ */ jsx(\n      chakra.div,\n      {\n        ...containerProps,\n        className: \"chakra-modal__content-container\",\n        tabIndex: -1,\n        __css: dialogContainerStyles,\n        children: /* @__PURE__ */ jsx(\n          ModalTransition,\n          {\n            preset: motionPreset,\n            motionProps,\n            className: _className,\n            ...dialogProps,\n            __css: dialogStyles,\n            children\n          }\n        )\n      }\n    ) });\n  }\n);\nModalContent.displayName = \"ModalContent\";\n\nexport { ModalContent };\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { cx } from '@chakra-ui/utils';\nimport { useEffect } from 'react';\nimport { useModalContext, useModalStyles } from './modal.mjs';\nimport { forwardRef } from '../system/forward-ref.mjs';\nimport { chakra } from '../system/factory.mjs';\n\nconst ModalBody = forwardRef((props, ref) => {\n  const { className, ...rest } = props;\n  const { bodyId, setBodyMounted } = useModalContext();\n  useEffect(() => {\n    setBodyMounted(true);\n    return () => setBodyMounted(false);\n  }, [setBodyMounted]);\n  const _className = cx(\"chakra-modal__body\", className);\n  const styles = useModalStyles();\n  return /* @__PURE__ */ jsx(\n    chakra.div,\n    {\n      ref,\n      className: _className,\n      id: bodyId,\n      ...rest,\n      __css: styles.body\n    }\n  );\n});\nModalBody.displayName = \"ModalBody\";\n\nexport { ModalBody };\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { defineStyle } from '@chakra-ui/styled-system';\nimport { cx } from '@chakra-ui/utils';\nimport { useModalStyles } from './modal.mjs';\nimport { forwardRef } from '../system/forward-ref.mjs';\nimport { chakra } from '../system/factory.mjs';\n\nconst ModalFooter = forwardRef(\n  (props, ref) => {\n    const { className, ...rest } = props;\n    const _className = cx(\"chakra-modal__footer\", className);\n    const styles = useModalStyles();\n    const footerStyles = defineStyle({\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"flex-end\",\n      ...styles.footer\n    });\n    return /* @__PURE__ */ jsx(\n      chakra.footer,\n      {\n        ref,\n        ...rest,\n        __css: footerStyles,\n        className: _className\n      }\n    );\n  }\n);\nModalFooter.displayName = \"ModalFooter\";\n\nexport { ModalFooter };\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { defineStyle } from '@chakra-ui/styled-system';\nimport { cx } from '@chakra-ui/utils';\nimport { useEffect } from 'react';\nimport { useModalContext, useModalStyles } from './modal.mjs';\nimport { forwardRef } from '../system/forward-ref.mjs';\nimport { chakra } from '../system/factory.mjs';\n\nconst ModalHeader = forwardRef(\n  (props, ref) => {\n    const { className, ...rest } = props;\n    const { headerId, setHeaderMounted } = useModalContext();\n    useEffect(() => {\n      setHeaderMounted(true);\n      return () => setHeaderMounted(false);\n    }, [setHeaderMounted]);\n    const _className = cx(\"chakra-modal__header\", className);\n    const styles = useModalStyles();\n    const headerStyles = defineStyle({\n      flex: 0,\n      ...styles.header\n    });\n    return /* @__PURE__ */ jsx(\n      chakra.header,\n      {\n        ref,\n        className: _className,\n        id: headerId,\n        ...rest,\n        __css: headerStyles\n      }\n    );\n  }\n);\nModalHeader.displayName = \"ModalHeader\";\n\nexport { ModalHeader };\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { cx } from '@chakra-ui/utils';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { forwardRef } from 'react';\nimport { withDelay, TRANSITION_DEFAULTS } from './transition-utils.mjs';\n\nconst variants = {\n  enter: ({ transition, transitionEnd, delay } = {}) => ({\n    opacity: 1,\n    transition: transition?.enter ?? withDelay.enter(TRANSITION_DEFAULTS.enter, delay),\n    transitionEnd: transitionEnd?.enter\n  }),\n  exit: ({ transition, transitionEnd, delay } = {}) => ({\n    opacity: 0,\n    transition: transition?.exit ?? withDelay.exit(TRANSITION_DEFAULTS.exit, delay),\n    transitionEnd: transitionEnd?.exit\n  })\n};\nconst fadeConfig = {\n  initial: \"exit\",\n  animate: \"enter\",\n  exit: \"exit\",\n  variants\n};\nconst Fade = forwardRef(\n  function Fade2(props, ref) {\n    const {\n      unmountOnExit,\n      in: isOpen,\n      className,\n      transition,\n      transitionEnd,\n      delay,\n      animatePresenceProps,\n      ...rest\n    } = props;\n    const animate = isOpen || unmountOnExit ? \"enter\" : \"exit\";\n    const show = unmountOnExit ? isOpen && unmountOnExit : true;\n    const custom = { transition, transitionEnd, delay };\n    return /* @__PURE__ */ jsx(AnimatePresence, { ...animatePresenceProps, custom, children: show && /* @__PURE__ */ jsx(\n      motion.div,\n      {\n        ref,\n        className: cx(\"chakra-fade\", className),\n        custom,\n        ...fadeConfig,\n        animate,\n        ...rest\n      }\n    ) });\n  }\n);\nFade.displayName = \"Fade\";\n\nexport { Fade, fadeConfig };\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { cx } from '@chakra-ui/utils';\nimport { motion } from 'framer-motion';\nimport { useModalStyles, useModalContext } from './modal.mjs';\nimport { fadeConfig } from '../transition/fade.mjs';\nimport { chakra } from '../system/factory.mjs';\nimport { forwardRef } from '../system/forward-ref.mjs';\n\nconst MotionDiv = chakra(motion.div);\nconst ModalOverlay = forwardRef(\n  (props, ref) => {\n    const { className, transition, motionProps: _motionProps, ...rest } = props;\n    const _className = cx(\"chakra-modal__overlay\", className);\n    const styles = useModalStyles();\n    const overlayStyle = {\n      pos: \"fixed\",\n      left: \"0\",\n      top: \"0\",\n      w: \"100vw\",\n      h: \"100vh\",\n      ...styles.overlay\n    };\n    const { motionPreset } = useModalContext();\n    const defaultMotionProps = motionPreset === \"none\" ? {} : fadeConfig;\n    const motionProps = _motionProps || defaultMotionProps;\n    return /* @__PURE__ */ jsx(\n      MotionDiv,\n      {\n        ...motionProps,\n        __css: overlayStyle,\n        ref,\n        className: _className,\n        ...rest\n      }\n    );\n  }\n);\nModalOverlay.displayName = \"ModalOverlay\";\n\nexport { ModalOverlay };\n"],"names":["focusableElList","focusableElSelector","isVisible","el","getAllFocusable","container","focusableEls","isFocusable","TRANSITION_EASINGS","TRANSITION_DEFAULTS","withDelay","transition","delay","FOCUS_GROUP","FOCUS_DISABLED","FOCUS_ALLOW","FOCUS_AUTO","FOCUS_NO_AUTOFOCUS","assignRef","ref","value","useCallbackRef","initialValue","callback","useState","last","useIsomorphicLayoutEffect","React.useLayoutEffect","React.useEffect","currentValues","useMergeRefs","refs","defaultValue","callbackRef","newValue","oldValue","prevRefs_1","nextRefs_1","current_1","hiddenGuard","ItoI","a","innerCreateMedium","defaults","middleware","buffer","assigned","medium","data","item","x","cb","cbs","pendingQueue","executeQueue","cycle","filter","createMedium","createSidecarMedium","options","__assign","SideCar","_a","sideCar","rest","__rest","Target","React.createElement","exportSidecar","exported","mediumFocus","_ref","target","currentTarget","mediumBlur","mediumEffect","mediumSidecar","focusScope","createContext","emptyArray","FocusLock","forwardRef","props","parentRef","_extends2","_useState","realObserved","setObserved","observed","useRef","isActive","originalFocusedElement","_useState2","update","children","_props$disabled","disabled","_props$noFocusGuards","noFocusGuards","_props$persistentFocu","persistentFocus","_props$crossFrame","crossFrame","_props$autoFocus","autoFocus","group","className","whiteList","hasPositiveIndices","_props$shards","shards","_props$as","Container","_props$lockProps","containerProps","_props$returnFocus","shouldReturnFocus","focusOptions","onActivationCallback","onDeactivationCallback","_useState3","id","onActivation","useCallback","captureFocusRestore","_document","activeElement","onDeactivation","returnFocus","allowDefer","focusRestore","returnFocusTo","howToReturnFocus","returnFocusOptions","onFocus","event","onBlur","setObserveNode","newObserved","lockProps","_extends","hasLeadingGuards","hasTailingGuards","mergedRef","focusScopeValue","useMemo","React","Fragment","_setPrototypeOf","t","e","_inheritsLoose","o","setPrototypeOf","withSideEffect","reducePropsToState","handleStateChangeOnClient","getDisplayName","WrappedComponent","mountedInstances","state","emitChange","instance","SideEffect","_PureComponent","_proto","index","PureComponent","_defineProperty","toArray","ret","i","asArray","getFirst","isElementHidden","node","computedStyle","getParentNode","isTopNode","isInert","isVisibleUncached","checkParent","isVisibleCached","visibilityCache","cached","result","isAutoFocusAllowedUncached","isAutoFocusAllowed","isAutoFocusAllowedCached","cache","getDataset","isHTMLButtonElement","isHTMLInputElement","isRadioElement","notHiddenInput","attribute","isGuard","isNotAGuard","isDefined","tabSort","b","aTab","bTab","tabDiff","indexDiff","getTabIndex","orderByTabIndex","nodes","filterNegative","keepGuards","tabIndex","tabbables","queryTabbables","queryGuardTabbables","getFocusablesWithShadowDom","parent","withGuards","acc","child","getFocusablesWithIFrame","getFocusables","parents","focusableWithShadowDom","focusableWithIframes","getParentAutofocusables","parentFocus","filterFocusable","filterAutoFocusable","getTabbableNodes","topNodes","getFocusableNodes","parentAutofocusables","topNode","contains","scope","element","iframeBody","filterNested","contained","l","j","position","_","getTopParent","getAllAffectedNodes","currentNode","safeProbe","getActiveElement","inDocument","focusInFrame","frame","focusInsideIframe","focusInside","focusIsHidden","findSelectedRadio","correctNode","correctNodes","resultSet","pickFirstFocus","pickFocusable","NEW_FOCUS","newFocus","innerNodes","innerTabbables","outerNodes","lastNode","cnt","firstFocus","lastFocus","isOnGuard","activeIndex","lastIndex","lastNodeInside","firstNodeIndex","lastNodeIndex","correctedNodes","currentFocusableIndex","previousFocusableIndex","tabbableNodes","currentTabbableIndex","previousTabbableIndex","focusIndexDiff","returnFirstNode","returnLastNode","findAutoFocused","autoFocusables","autofocus","pickAutofocus","nodesIndexes","orderedNodes","groups","autoFocusable","getParents","getCommonParent","nodeA","nodeB","parentsA","parentsB","currentParent","getTopCommonParent","baseActiveElement","leftEntry","rightEntries","activeElements","leftEntries","topCommon","entry","subEntry","common","allParentAutofocusables","entries","reorderNodes","srcNodes","dstNodes","remap","entity","focusSolver","commonParent","anyFocusable","innerElements","orderedInnerElements","innerFocusables","innerTabbable","newId","focusNode","expandFocusableNodes","focusOn","guardCount","lockDisabled","moveFocusInside","focusable","weakRef","w","recordElementLocation","stack","currentElement","restoreFocusTo","location","_b","_c","_d","_e","ownerDocument","_i","stack_1","line","parent_1","left","savedCurrent","current","right","focusables","aim","_f","focusables_1","targetElement","getRelativeFocusable","useTabbables","shard","getBoundary","set","defaultOptions","moveFocus","fromElement","newOptions","solution","focusNextElement","next","first","focusPrevElement","prev","pickBoundary","what","boundary","focusFirstElement","focusLastElement","deferAction","action","extractRef","focusOnBody","isFreeFocus","lastActiveTrap","lastActiveFocus","tryRestoreFocus","lastPortaledElement","focusWasOutsideWindow","windowFocused","defaultWhitelist","focusWhitelisted","recordPortal","observerNode","portaledElement","focusIsPortaledPair","autoGuard","startIndex","end","step","allNodes","lastGuard","focusWasOutside","crossFrameOption","checkInHost","check","withinHost","workingArea","area","getNodeFocusables","isNotFocusable","activateTrap","_lastActiveTrap","workingNode","newTarget","shouldForceRestoreFocus","newActiveElement","focusedIndex","_ref2","_ref3","guard","_ref4","onTrap","source","FocusWatcher","onWindowFocus","onWindowBlur","attachHandler","detachHandler","propsList","_ref6","focusLockAPI","traps","trap","lastTrap","sameTrap","_ref7","FocusTrap$1","FocusLockCombination","FocusLockUI","FocusTrap","_objectWithoutPropertiesLoose","ReactFocusLock","initialFocusRef","finalFocusRef","contentRef","restoreFocus","isDisabled","lockFocusAcrossFrames","jsx","getDefaultParent","originalTarget","sampleTarget","counterMap","uncontrolledNodes","markerMap","lockCount","unwrapHost","correctTargets","targets","correctedTarget","applyAttributeToOthers","parentNode","markerName","controlAttribute","markerCounter","hiddenNodes","elementsToKeep","elementsToStop","keep","deep","attr","alreadyHidden","counterValue","markerValue","hideOthers","activeParentNode","__defProp","__defNormalProp","obj","key","__publicField","ModalManager","modal","topModal","modalManager","useModalManager","isOpen","setIndex","useEffect","index2","useModal","onClose","closeOnOverlayClick","closeOnEsc","useInert","onOverlayClickProp","onEsc","dialogRef","overlayRef","dialogId","headerId","bodyId","useIds","useAriaHidden","mouseDownTarget","onMouseDown","onKeyDown","headerMounted","setHeaderMounted","bodyMounted","setBodyMounted","getDialogProps","props2","mergeRefs","callAllHandlers","onOverlayClick","getDialogContainerProps","shouldHide","idProp","prefixes","reactId","useId","prefix","ModalStylesProvider","useModalStyles","ModalContextProvider","useModalContext","Modal","modalProps","portalProps","trapFocus","returnFocusOnClose","blockScrollOnMount","allowPinchZoom","preserveScrollBarGap","motionPreset","animatePresenceProps","onCloseComplete","styles","useMultiStyleConfig","context","AnimatePresence","Portal","zeroRightClassName","fullWidthClassName","noScrollbarsClassName","removedBarSizeVariable","effectCar","nothing","RemoveScroll","React.forwardRef","React.useRef","React.useState","callbacks","setCallbacks","forwardProps","removeScrollBar","enabled","noRelative","noIsolation","inert","gapMode","containerRef","React.Fragment","React.cloneElement","React.Children","getNonce","makeStyleTag","tag","nonce","injectStyles","css","insertStyleTag","head","stylesheetSingleton","counter","stylesheet","style","styleHookSingleton","sheet","isDynamic","styleSingleton","useStyle","Sheet","dynamic","zeroGap","parse","getOffset","cs","top","getGapWidth","offsets","documentWidth","windowWidth","Style","lockAttribute","getStyles","allowRelative","important","gap","getCurrentUseCounter","useLockAttribute","newCounter","RemoveScrollBar","noImportant","React.useMemo","passiveSupported","nonPassive","alwaysContainsScroll","elementCanBeScrolled","overflow","elementCouldBeVScrolled","elementCouldBeHScrolled","locationCouldBeScrolled","axis","isScrollable","elementCouldBeScrolled","getScrollVariables","scrollHeight","clientHeight","getVScrollVariables","scrollTop","getHScrollVariables","scrollLeft","scrollWidth","clientWidth","getDirectionFactor","direction","handleScroll","endTarget","sourceDelta","noOverscroll","directionFactor","delta","targetInLock","shouldCancelScroll","isDeltaPositive","availableScroll","availableScrollTop","scroll_1","capacity","elementScroll","getTouchXY","getDeltaXY","deltaCompare","y","generateStyle","idCounter","lockStack","RemoveScrollSideCar","shouldPreventQueue","touchStartRef","activeAxis","lastProps","allow_1","__spreadArray","shouldCancelEvent","React.useCallback","touch","touchStart","deltaX","deltaY","currentAxis","moveDirection","canBeScrolledInMainDirection","cancelingAxis","shouldPrevent","_event","sourceEvent","shardNodes","shouldStop","shouldCancel","name","should","getOutermostShadowParent","scrollTouchStart","scrollWheel","scrollTouchMove","inst","shadowParent","ReactRemoveScroll","ModalFocusScope","isPresent","safeToRemove","usePresence","variants","offsetX","offsetY","transitionEnd","reverse","offset","slideFadeConfig","SlideFade","unmountOnExit","show","animate","custom","motion","cx","initialScale","scaleFadeConfig","ScaleFade","transitions","MotionSection","chakra","getMotionProps","preset","ModalTransition","motionProps","ModalContent","rootProps","dialogProps","_className","dialogStyles","defineStyle","dialogContainerStyles","ModalBody","ModalFooter","footerStyles","ModalHeader","headerStyles","fadeConfig","Fade","MotionDiv","ModalOverlay","_motionProps","overlayStyle"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68]}